<!DOCTYPE html>
<html lang="tr">
<head>

    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, user-scalable=yes, initial-scale=1.0, maximum-scale=5.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="csrf-token" content="4ff9fb8f278b302b8242a65986321c1cdb31a61e1075738b8a802fcc87440d55c73506a30e77de8cf44caaa7c8495dbb335d35fbf5aabcf138b1a789326ff18c">
<meta name="description" content="Güvenli ödeme, pratik alışveriş.">
<!-- Removed by WebCopy --><!--<base href="https://www.shopier.com/s/">--><!-- Removed by WebCopy -->

<script> const shopName = "ButikBora";
</script>    <title>İhracat Fazlası Orjinal Siyah | Butik Bora </title>
    
    <meta property="sku" content="21927939">
    <meta property="name" content="İhracat Fazlası Orjinal Siyah">
    <meta property="description" content="İhracat Fazlası Orjinal Siyah">

    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:site" content="">
    <meta property="twitter:description" content="İhracat Fazlası Orjinal Siyah">
    <meta property="twitter:image" content="https://cdn.shopier.app/pictures_mid/ButikBora_2d3ad52fd3181e01ba69302f0382cb73.jpeg">
    <!-- Facebook JavaScript SDK -->
    <script>
        window.fbAsyncInit = function () {
            FB.init({appId: "1321130767979745", autoLogAppEvents: !0, xfbml: !0, version: "v2.11"})
        }, function (e, n, t) {
            var o, s = e.getElementsByTagName(n)[0];
            e.getElementById(t) || ((o = e.createElement(n)).id = t, o.src = "https://connect.facebook.net/en_US/sdk.js", s.parentNode.insertBefore(o, s))
        }(document, "script", "facebook-jssdk");
    </script>

    <meta property="fb:app_id" content="1321130767979745">

    <meta property="og:image" content="https://cdn.shopier.app/pictures_mid/ButikBora_2d3ad52fd3181e01ba69302f0382cb73.jpeg">
    <meta property="og:type" content="product">
    <meta property="og:title" content="İhracat Fazlası Orjinal Siyah">
    <meta property="og:url" content="https://www.shopier.com/21927939">
    <meta property="og:site_name" content="İhracat Fazlası Orjinal Siyah | Butik Bora ">
    <meta property="og:availability" content="instock">
    <meta property="og:description" content="İhracat Fazlası Orjinal Siyah">

        
            
    <meta property="product:price:amount" content="650">


    <!-- BEGIN STYLES -->
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<link rel="stylesheet" href="s/templates/storev3/assets/css/index.css">
<link rel="stylesheet" href="s/templates/storev3/assets/css/app.css">
<link rel="stylesheet" href="s/templates/storev3/assets/css/custom.css">
<script src="jquery-3.7.0.min.js" integrity="sha256-2Pmvv0kuTBOenSvLm6bvfBSSHrUJ+3A7x6P5Ebd07/g=" crossorigin="anonymous"></script>
<script src="s/templates/storev3/assets/js/index.js" defer="defer"></script>
<script src="s/templates/storev3/assets/js/custom.js" defer="defer"></script>
<script src="ajax/libs/lottie-web/5.9.6/lottie.min.js" defer="defer"></script>
<!-- END STYLES -->
<style></style></head>
<body>
    
<script>
let $language = {"meta_description":"G\u00fcvenli \u00f6deme, pratik al\u0131\u015fveri\u015f.","html_lang":"tr","shop":"D\u00fckkan","your_cart_empty":"Sepetiniz bo\u015f","no_items_in_the_cart":"Sepette \u00fcr\u00fcn yok","search":"Ara","search_within_store":"Ma\u011faza i\u00e7i arama...","view_shopping_cart":"Sepete git","complete_shopping":"Al\u0131\u015fveri\u015fi tamamla","quantity":"Adet","quantity_lower":"adet","subtotal":"Ara toplam","shipping_fee":"Kargo \u00fccreti","discount":"Ek \u0130ndirim","discount_text":"\u0130ndirim","total_price":"Genel toplam","basket":"Sepet","bill":"Fatura","new":"Yeni","last_item":"Son \u00fcr\u00fcn","digital_product":"Dijital \u00fcr\u00fcn","out_of_stock":"T\u00fckendi","select":"Se\u00e7","select_please":"Se\u00e7iniz","yes_text":"Evet","no_text":"Hay\u0131r","open":"A\u00e7","close":"Kapat","apply_text_cap":"Uygula","update":"G\u00fcncelle","share":"Payla\u015f","terms":"Ko\u015fullar","links":"Ba\u011flant\u0131lar","track_order":"Sipari\u015f takibi","secure_payments":"G\u00fcvenli \u00f6deme","connect_with_us":"Bizimle ileti\u015fime ge\u00e7in","others":"Di\u011fer","privacy_and_conditions":"Gizlilik ve Ko\u015fullar","unexpected_error_occurred":"Beklenmeyen bir hata olu\u015ftu, l\u00fctfen bir s\u00fcre sonra tekrar deneyiniz.","client_error_message":"Ge\u00e7ersiz bir istek g\u00f6nderildi, l\u00fctfen bir s\u00fcre sonra tekrar deneyiniz.","server_error_message":"Sunucudan yan\u0131t al\u0131namad\u0131, l\u00fctfen bir s\u00fcre sonra tekrar deneyiniz.","shop_is_in_vacation":"Bu d\u00fckkan, sat\u0131\u015flar\u0131na ge\u00e7ici bir s\u00fcre ara vermi\u015ftir. L\u00fctfen daha sonra tekrar deneyin.","shopping_security":"Al\u0131\u015fveri\u015f G\u00fcvenli\u011fi","pre_notification_form":"\u00d6n Bilgilendirme Formu ","distance_selling_contract":"Mesafeli Sat\u0131\u015f S\u00f6zle\u015fmesi","protection_of_personal_data":"Ki\u015fisel Verilerin Korunmas\u0131","refund_terms":"\u0130ade Ko\u015fullar\u0131","address":"Adres","all_rights_reserved":"T\u00fcm haklar\u0131 sakl\u0131d\u0131r.","search_category":"Kategori","search_product":"\u00dcr\u00fcn","about":"Hakk\u0131nda","contact":"\u0130leti\u015fim","shop_announcement":"D\u00fckkan bildirisi","all_products_text":"T\u00fcm \u00fcr\u00fcnler","all":"T\u00fcm\u00fc","all_clear":"T\u00fcm\u00fcn\u00fc temizle","product_lower":"\u00fcr\u00fcn","products_lower":"\u00fcr\u00fcn","show_products":"\u00dcr\u00fcnleri g\u00f6r","hide_products":"\u00dcr\u00fcnleri gizle","cancel":"Vazge\u00e7","confirm":"Onayla","shipping_text":"Teslimat","payment_text":"\u00d6deme","ok_text":"Tamam","applied_text":"Uyguland\u0131","continue_text":"\u0130lerle","send_text":"G\u00f6nder","complete_order":"Sipari\u015fi tamamla","check_your_information_title":"Bilgilerinizin do\u011frulu\u011funu kontrol edin.","check_your_information_text":"Hatal\u0131 veya eksik bilgilerinizi tekrar kontrol edin.","search_order_placeholder":"Sipari\u015f numaras\u0131","text_seller":"Sat\u0131c\u0131","order_id_empty_message":"L\u00fctfen ge\u00e7erli bir sipari\u015f numaras\u0131 giriniz.","order_status":"Sipari\u015f Durumu","order_number":"Sipari\u015f No","order_complete":"Sipari\u015f al\u0131nd\u0131","order_cargo":"Kargoya verildi","order_delivered":"Teslim edildi","order_cancel":"\u0130ptal edildi","order_refund":"\u0130ade edildi","order_track_description":"Sipari\u015finizin g\u00fcncel durumunu kontrol etmek i\u00e7in sipari\u015f numaras\u0131 girin.","order_not_found_message":" numaral\u0131 sipari\u015f bulunamad\u0131, l\u00fctfen kontrol ediniz.","order_status_message_complete":"Sipari\u015finiz sat\u0131c\u0131 taraf\u0131ndan kargoya verildi\u011finde, kargo takip bilgileri sipari\u015fte kay\u0131tl\u0131 e-posta adresinize g\u00f6nderilecektir.","order_status_message_digital":"Sipari\u015finiz sat\u0131c\u0131 taraf\u0131ndan dijital olarak teslim edilecektir.","order_status_message_cargo_tracking":"Kargo takip bilgilerini kay\u0131tl\u0131 e-posta adresinize veya telefon numaran\u0131za g\u00f6ndermemizi ister misiniz?","order_status_message_cargo_tracking_email":"E-posta olarak g\u00f6nder","order_status_message_cargo_tracking_sms":"SMS olarak g\u00f6nder","order_status_message_delivered":"Sipari\u015finiz teslim edilmi\u015ftir. Sat\u0131n ald\u0131\u011f\u0131n\u0131z \u00fcr\u00fcn veya hizmetle ilgili sorular\u0131n\u0131z i\u00e7in l\u00fctfen sat\u0131c\u0131yla ileti\u015fime ge\u00e7iniz.","footer_cargo_tracking_sms_content":"__orderid__ nolu sipari\u015finizin kargo takip bilgisi sat\u0131c\u0131 taraf\u0131ndan sa\u011flanm\u0131\u015ft\u0131r. \nKargo firmas\u0131: __cargo_company__ \nTakip numaras\u0131: __tracking_nr__ \n Mersis:0272045884800019 \u0130leti\u015fim:08508401510","footer_cargo_tracking_sms_sending":"Mesaj g\u00f6nderiliyor...","footer_cargo_tracking_email_sending":"E-posta g\u00f6nderiliyor...","footer_cargo_tracking_email_result":"Kargo takip bilgileri sipari\u015fte kay\u0131tl\u0131 mail adresinize g\u00f6nderildi.","footer_cargo_tracking_sms_result":"Kargo takip bilgileri sipari\u015fte kay\u0131tl\u0131 telefon numaran\u0131za SMS olarak g\u00f6nderildi.","footer_cargo_send_form_text":"\u00d6n Bilgilendirme Formu ve Mesafeli Sat\u0131\u015f S\u00f6zle\u015fmesini g\u00f6nder","footer_cargo_send_form_title":"\u00d6n Bilgilendirme Formu ve Mesafeli Sat\u0131\u015f S\u00f6zle\u015fmesi\u2019ni hangi yolla g\u00f6ndermemizi istersiniz?","back_to_shop":"D\u00fckkana geri d\u00f6n","cargo_text":"Kargo","total_discount":"Toplam indirim","label_discount":"Etiket indirimi","order_summary":"\u00d6zet","send_agreements_modal_sms_result":"\u00d6n Bilgilendirme Formu ve Mesafeli Sat\u0131\u015f S\u00f6zle\u015fmesi sipari\u015fte kay\u0131tl\u0131 telefon numaran\u0131za SMS olarak g\u00f6nderildi.","send_agreements_modal_email_result":"\u00d6n Bilgilendirme Formu ve Mesafeli Sat\u0131\u015f S\u00f6zle\u015fmesi sipari\u015fte kay\u0131tl\u0131 mail adresinize g\u00f6nderildi.","share_text":"Bu \u00fcr\u00fcn g\u00f6z atmaya de\u011fer!","free_shipping_text":"\u00dccretsiz kargo","all_products":"T\u00fcm \u00fcr\u00fcnler","load_more_products":"Daha fazla y\u00fckle","result":"Sonu\u00e7","results":"Sonu\u00e7lar","filtering":"Filtrele","filtered":"Filtrelenen","filter_clear":"Temizle","filter_advantageous_products":"Avantajl\u0131 \u00fcr\u00fcnler","filter_discounted_products":"\u0130ndirimli \u00fcr\u00fcnler","filter_auto_discounted_products":"Kampanyal\u0131 \u00fcr\u00fcnler","filter_best_products":"En \u00e7ok satanlar","filter_price":"Fiyat","filter_min_price":"En az","filter_max_price":"En \u00e7ok","filter_min_price_alternative":"En d\u00fc\u015f\u00fck","filter_max_price_alternative":"En y\u00fcksek","filter_stock":"Stok","filter_only_in_stock":"Sadece stoktakiler","filter_category":"Kategori","filter_mbl_filter_btn":"\u00dcr\u00fcnleri filtrele","filter_mbl_filter_main_btn":"Filtrele","sorting":"S\u0131rala","sort_clear":"Temizle","sort_by_price":"Fiyata g\u00f6re s\u0131rala","sort_lowest_price":"En d\u00fc\u015f\u00fck fiyat","sort_lowest_price_1":"Fiyat, artan","sort_highest_price":"En y\u00fcksek fiyat","sort_highest_price_1":"Fiyat, azalan","sort_by_date":"Tarihe g\u00f6re s\u0131rala","sort_new_to_old":"Yeniden eskiye","sort_new_to_old_1":"Listeleme tarihi, artan","sort_old_to_new":"Eskiden yeniye","sort_old_to_new_1":"Listeleme tarihi, azalan","sort_mbl_sort_btn":"\u00dcr\u00fcnleri s\u0131rala","sort_mbl_sort_main_btn":"S\u0131rala","filter_we_are_sorry_message":"\u00c7ok \u00fczg\u00fcn\u00fcz!","filter_not_found_message":"Bu arama i\u00e7in sonu\u00e7 bulunmuyor.","filter_not_found_message_1":"Filtreye uygun sonu\u00e7 bulunamad\u0131. D\u00fckkandaki \u00fcr\u00fcnlere geri d\u00f6nmek i\u00e7in ","filter_not_found_message_2":" t\u0131klay\u0131n\u0131z.","product_not_found":"\u00dcr\u00fcn bulunamad\u0131","filter_are_you_sure_title":"Emin misiniz?","filter_are_you_sure_text":"Filtreleme kriterleri temizlenecek.","added_to_basket":"Sepete eklendi","added_basket":" sepete eklendi","warning_stock_max":"Bu \u00fcr\u00fcndeki mevcut stok","warning_stock_max_2":"adettir.","warning_different_currency":"Bu \u00fcr\u00fcn\u00fc sepete ekleyemiyoruz. Sepetteki \u00fcr\u00fcnlerin tamam\u0131n\u0131n para birimi ayn\u0131 olmal\u0131d\u0131r.","warning_select_variation":"Varyasyon se\u00e7iniz","free_shipping":"\u00dccretsiz kargo ","description":"\u00dcr\u00fcn a\u00e7\u0131klamas\u0131","shipping_info":"Teslimat bilgisi","in_stock":"Stokta","cargo_price":"Kargo \u00fccreti: ","paid_by_buyer":"\u00dccretsiz kargo. Kargo \u00fccreti sat\u0131c\u0131 taraf\u0131ndan \u00f6denir.","free_shipping_shop":"Bu d\u00fckkandaki t\u00fcm \u00fcr\u00fcnler \u00fccretsiz kargo ile g\u00f6nderilir.","free_shipping_shop_total":"Bu d\u00fckkanda","free_shipping_shop_total_2":" ve \u00fczeri sipari\u015flerde kargo \u00fccretsiz.","pay_at_the_door":"Kargo bedeli teslimat esnas\u0131nda al\u0131c\u0131 taraf\u0131ndan kap\u0131da \u00f6denir.","delivered_digitally":"Bu \u00fcr\u00fcn dijital ortamda teslim edilir.","delivery_cargo_time_1":"","delivery_cargo_time_2":" i\u015f g\u00fcn\u00fc i\u00e7inde kargoda","custom_cargo_data_info":"Bu d\u00fckkanda","custom_cargo_data_info_2":"alt\u0131ndaki sipari\u015flerde kargo \u00fccreti","custom_cargo_data_info_2_2":"","custom_cargo_data_info_3":"ve \u00fczeri sipari\u015flerde kargo \u00fccreti","custom_cargo_data_info_3_3":"","custom_cargo_data_free_info":"","custom_cargo_data_free_info_2":"ve \u00fczeri sipari\u015flerde ise kargo \u00fccretsiz.","option":"Opsiyon","option_selection":"Opsiyon se\u00e7imi","text_free":"\u00dccretsiz","buy_now":"Sat\u0131n Al","buy_it_now":"Hemen al","add_to_cart":"Sepete ekle","text_share":"Payla\u015f","warning_unpaid_order_exist_title":"\u00d6demeniz hen\u00fcz tamamlanmad\u0131","warning_unpaid_order_exist_1":"","warning_unpaid_order_exist_2":"tutar\u0131ndaki sipari\u015finizin \u00f6demesi hen\u00fcz tamamlanmad\u0131. Bu sipari\u015finizi iptal edip, yeni bir sipari\u015f olu\u015fturmak istedi\u011finize emin misiniz?","continue_shopping":"Al\u0131\u015fveri\u015fe devam et","more_text":"Daha fazla","clear_selection":"Se\u00e7imi kald\u0131r"};
let $product = {"id":21491192,"product_id":"21927939","name":"\u0130hracat Fazlas\u0131 Orjinal Siyah","link":"https:\/\/www.shopier.com\/21927939","description":"\u0130hracat Fazlas\u0131 Orjinal Siyah","absolute_link":"https:\/\/www.shopier.com\/21927939","price":{"price_formatted":"650","price_legacy_formatted":"650,00 TL","price_code_formatted":"650 TL","price_symbol_formatted":"\u20ba650","price_without_cent":"650","price_cent":",00","price_code":"TL","price_symbol":"\u20ba","has_cent":false},"price_raw":"650","is_product_discounted":false,"absolute_price":{"price_formatted":"650","price_legacy_formatted":"650,00 TL","price_code_formatted":"650 TL","price_symbol_formatted":"\u20ba650","price_without_cent":"650","price_cent":",00","price_code":"TL","price_symbol":"\u20ba","has_cent":false},"original_price":{"price_formatted":"0","price_legacy_formatted":"0,00 TL","price_code_formatted":"0 TL","price_symbol_formatted":"\u20ba0","price_without_cent":"0","price_cent":",00","price_code":"TL","price_symbol":"\u20ba","has_cent":false},"labels":{"out_of_stock":{"enabled":false},"digital_product":{"enabled":false},"last_item":{"enabled":true},"new":{"enabled":false},"automatic_discount":{"enabled":false},"discounted_product":{"enabled":false,"rate":0}},"is_discounted":false,"currency":0,"stock":1,"images":["ButikBora_2d3ad52fd3181e01ba69302f0382cb73.jpeg","ButikBora_aedcbf6df9f7ec493234514cb3971551.jpeg"],"is_free_shipping_valid":true,"description_for_facebook":"\u0130hracat Fazlas\u0131 Orjinal Siyah","variations":{"variation_1_name":"BEDEN ","variation_1":[{"id":379772,"stock":1,"name":"L"}]},"variation_details":[],"primary_variant_id":78209956,"primary_variant_image":null,"options":null,"multi_option_selectable":0,"category":["976841"],"hide_bnb":false};
let $page = "product";
let $urls = {"hosted":"https:\/\/www.shopier.com\/","base_url":"https:\/\/www.shopier.com\/s\/","get_filter_matrix":"https:\/\/www.shopier.com\/s\/api\/v1\/get_filter_matrix","search_product":"https:\/\/www.shopier.com\/s\/api\/v1\/search_product\/ButikBora","elastic_search":"https:\/\/www.shopier.com\/s\/api\/v1\/elasticsearch","add_item_basket":"https:\/\/www.shopier.com\/s\/api\/v1\/add_chart_item\/ButikBora","remove_item_basket":"https:\/\/www.shopier.com\/s\/api\/v1\/remove_chart_item\/ButikBora","update_quantity":"https:\/\/www.shopier.com\/s\/api\/v1\/update_quantity\/ButikBora","get_policies":"https:\/\/www.shopier.com\/s\/api\/v1\/get_policies\/ButikBora","check_payment_progress":"https:\/\/www.shopier.com\/s\/api\/v1\/check_payment_progress\/ButikBora","cancel_ongoing_payment":"https:\/\/www.shopier.com\/s\/api\/v1\/cancel_ongoing_payment\/ButikBora","check_sub_variation":"https:\/\/www.shopier.com\/s\/api\/v1\/check_sub_variation","get_cities":"https:\/\/www.shopier.com\/s\/api\/v1\/get_cities","token_calculator":"https:\/\/www.shopier.com\/s\/api\/v1\/token_calculator","shipment_form_process":"https:\/\/www.shopier.com\/s\/api\/v1\/shipment_form_process\/ButikBora","cargo_company":"https:\/\/www.shopier.com\/s\/api\/v1\/cargo_company\/ButikBora","control_bin_number":"https:\/\/www.shopier.com\/s\/api\/v1\/bin_number_control\/ButikBora","coupon_code":"https:\/\/www.shopier.com\/s\/api\/v1\/coupon_code\/ButikBora","track_order":"https:\/\/www.shopier.com\/s\/api\/v1\/track_order\/ButikBora","check_order":"https:\/\/www.shopier.com\/s\/api\/v1\/check_order\/ButikBora","discount":"https:\/\/www.shopier.com\/s\/api\/v1\/discount","app":"https:\/\/www.shopier.com\/s\/api\/v1\/app"};
let $discount = {"show_discount_notification_bar":false,"discount_bar_id":"discount-bar"};
let $error_message = null;
let $shopier_app = {"related_products":{"enabled":true,"property_list":[],"language":{"you_may_also_like_these_products":"Bu \u00fcr\u00fcnleri be\u011fenebilirsiniz","digital_product":"Dijital \u00fcr\u00fcn","last_item":"Son \u00fcr\u00fcn","new":"Yeni"},"custom_data":{"products":[{"id":29663598,"product_id":30100345,"name":"Antrasit Yar\u0131m Fermuarl\u0131","link":"https:\/\/www.shopier.com\/30100345?app_id=13","absolute_link":"https:\/\/www.shopier.com\/30100345","price":{"price_formatted":"650","price_legacy_formatted":"650,00 TL","price_code_formatted":"650 TL","price_symbol_formatted":"\u20ba650","price_without_cent":"650","price_cent":",00","price_code":"TL","price_symbol":"\u20ba","has_cent":false},"is_product_discounted":false,"absolute_price":"","original_price":null,"labels":{"digital_product":{"enabled":false},"last_item":{"enabled":false},"new":{"enabled":false},"automatic_discount":{"enabled":false},"discounted_product":{"enabled":false,"rate":0}},"is_discounted":false,"currency":"TL","image_prefix":"https:\/\/cdn.shopier.app\/","image_endpoints":{"small":"pictures_small\/","mid":"pictures_mid\/","large":"pictures_large\/"},"images":["ButikBora_3897431111712341e31826c78dcf1429.jpeg"]},{"id":15839208,"product_id":16275955,"name":"Beyaz Basic Oversize Tshirt ","link":"https:\/\/www.shopier.com\/16275955?app_id=13","absolute_link":"https:\/\/www.shopier.com\/16275955","price":{"price_formatted":"330","price_legacy_formatted":"330,00 TL","price_code_formatted":"330 TL","price_symbol_formatted":"\u20ba330","price_without_cent":"330","price_cent":",00","price_code":"TL","price_symbol":"\u20ba","has_cent":false},"is_product_discounted":true,"absolute_price":"","original_price":{"price_formatted":"400","price_legacy_formatted":"400,00 TL","price_code_formatted":"400 TL","price_symbol_formatted":"\u20ba400","price_without_cent":"400","price_cent":",00","price_code":"TL","price_symbol":"\u20ba","has_cent":false},"labels":{"digital_product":{"enabled":false},"last_item":{"enabled":false},"new":{"enabled":false},"automatic_discount":{"enabled":false},"discounted_product":{"enabled":true,"rate":"18"}},"is_discounted":true,"currency":"TL","image_prefix":"https:\/\/cdn.shopier.app\/","image_endpoints":{"small":"pictures_small\/","mid":"pictures_mid\/","large":"pictures_large\/"},"images":["ButikBora_8128a6fa81966bb60272dfb9fecd4b09.jpeg","ButikBora_9231e1082cbd36a1040e25b87f6f5897.jpeg","ButikBora_c0d43dcc65dcc717a13be69ff3ee3c63.jpeg"]},{"id":29663925,"product_id":30100672,"name":"Lacivert Fermuarl\u0131 Kapi\u015fonlu","link":"https:\/\/www.shopier.com\/30100672?app_id=13","absolute_link":"https:\/\/www.shopier.com\/30100672","price":{"price_formatted":"700","price_legacy_formatted":"700,00 TL","price_code_formatted":"700 TL","price_symbol_formatted":"\u20ba700","price_without_cent":"700","price_cent":",00","price_code":"TL","price_symbol":"\u20ba","has_cent":false},"is_product_discounted":false,"absolute_price":"","original_price":null,"labels":{"digital_product":{"enabled":false},"last_item":{"enabled":false},"new":{"enabled":false},"automatic_discount":{"enabled":false},"discounted_product":{"enabled":false,"rate":0}},"is_discounted":false,"currency":"TL","image_prefix":"https:\/\/cdn.shopier.app\/","image_endpoints":{"small":"pictures_small\/","mid":"pictures_mid\/","large":"pictures_large\/"},"images":["ButikBora_781026c83ee6a24d92346bf7fafcf1e4.jpeg"]},{"id":15241285,"product_id":15678032,"name":"Beyaz Basic Long Tshirt","link":"https:\/\/www.shopier.com\/15678032?app_id=13","absolute_link":"https:\/\/www.shopier.com\/15678032","price":{"price_formatted":"350","price_legacy_formatted":"350,00 TL","price_code_formatted":"350 TL","price_symbol_formatted":"\u20ba350","price_without_cent":"350","price_cent":",00","price_code":"TL","price_symbol":"\u20ba","has_cent":false},"is_product_discounted":false,"absolute_price":"","original_price":null,"labels":{"digital_product":{"enabled":false},"last_item":{"enabled":false},"new":{"enabled":false},"automatic_discount":{"enabled":false},"discounted_product":{"enabled":false,"rate":0}},"is_discounted":false,"currency":"TL","image_prefix":"https:\/\/cdn.shopier.app\/","image_endpoints":{"small":"pictures_small\/","mid":"pictures_mid\/","large":"pictures_large\/"},"images":["ButikBora_aeee2494bcb6fd70603f28edced4a2ec.jpeg","ButikBora_3f86a25a569da3c0e08c1908dc01fab9.jpeg"]},{"id":27749661,"product_id":28186408,"name":"\u0130ndigo Slimfit Yakal\u0131","link":"https:\/\/www.shopier.com\/28186408?app_id=13","absolute_link":"https:\/\/www.shopier.com\/28186408","price":{"price_formatted":"550","price_legacy_formatted":"550,00 TL","price_code_formatted":"550 TL","price_symbol_formatted":"\u20ba550","price_without_cent":"550","price_cent":",00","price_code":"TL","price_symbol":"\u20ba","has_cent":false},"is_product_discounted":false,"absolute_price":"","original_price":null,"labels":{"digital_product":{"enabled":false},"last_item":{"enabled":true},"new":{"enabled":false},"automatic_discount":{"enabled":false},"discounted_product":{"enabled":false,"rate":0}},"is_discounted":false,"currency":"TL","image_prefix":"https:\/\/cdn.shopier.app\/","image_endpoints":{"small":"pictures_small\/","mid":"pictures_mid\/","large":"pictures_large\/"},"images":["ButikBora_dbfe7f53cceb1b7b6c10fac67bdea63f.jpeg"]},{"id":27749829,"product_id":28186576,"name":"Basic Siyah Slimfit ","link":"https:\/\/www.shopier.com\/28186576?app_id=13","absolute_link":"https:\/\/www.shopier.com\/28186576","price":{"price_formatted":"300","price_legacy_formatted":"300,00 TL","price_code_formatted":"300 TL","price_symbol_formatted":"\u20ba300","price_without_cent":"300","price_cent":",00","price_code":"TL","price_symbol":"\u20ba","has_cent":false},"is_product_discounted":false,"absolute_price":"","original_price":null,"labels":{"digital_product":{"enabled":false},"last_item":{"enabled":false},"new":{"enabled":false},"automatic_discount":{"enabled":false},"discounted_product":{"enabled":false,"rate":0}},"is_discounted":false,"currency":"TL","image_prefix":"https:\/\/cdn.shopier.app\/","image_endpoints":{"small":"pictures_small\/","mid":"pictures_mid\/","large":"pictures_large\/"},"images":["ButikBora_6846f2611d17d31380a1199f01879f37.jpeg"]},{"id":27749975,"product_id":28186722,"name":"Basic Siyah Oversize ","link":"https:\/\/www.shopier.com\/28186722?app_id=13","absolute_link":"https:\/\/www.shopier.com\/28186722","price":{"price_formatted":"300","price_legacy_formatted":"300,00 TL","price_code_formatted":"300 TL","price_symbol_formatted":"\u20ba300","price_without_cent":"300","price_cent":",00","price_code":"TL","price_symbol":"\u20ba","has_cent":false},"is_product_discounted":true,"absolute_price":"","original_price":{"price_formatted":"400","price_legacy_formatted":"400,00 TL","price_code_formatted":"400 TL","price_symbol_formatted":"\u20ba400","price_without_cent":"400","price_cent":",00","price_code":"TL","price_symbol":"\u20ba","has_cent":false},"labels":{"digital_product":{"enabled":false},"last_item":{"enabled":false},"new":{"enabled":false},"automatic_discount":{"enabled":false},"discounted_product":{"enabled":true,"rate":"25"}},"is_discounted":true,"currency":"TL","image_prefix":"https:\/\/cdn.shopier.app\/","image_endpoints":{"small":"pictures_small\/","mid":"pictures_mid\/","large":"pictures_large\/"},"images":["ButikBora_48b47999210707cb7492a2e5b0dec04a.jpeg"]},{"id":23025695,"product_id":23462442,"name":"Siyah \u015ei\u015fme Mont ","link":"https:\/\/www.shopier.com\/23462442?app_id=13","absolute_link":"https:\/\/www.shopier.com\/23462442","price":{"price_formatted":"1.750","price_legacy_formatted":"1.750,00 TL","price_code_formatted":"1.750 TL","price_symbol_formatted":"\u20ba1.750","price_without_cent":"1.750","price_cent":",00","price_code":"TL","price_symbol":"\u20ba","has_cent":false},"is_product_discounted":false,"absolute_price":"","original_price":null,"labels":{"digital_product":{"enabled":false},"last_item":{"enabled":false},"new":{"enabled":false},"automatic_discount":{"enabled":false},"discounted_product":{"enabled":false,"rate":0}},"is_discounted":false,"currency":"TL","image_prefix":"https:\/\/cdn.shopier.app\/","image_endpoints":{"small":"pictures_small\/","mid":"pictures_mid\/","large":"pictures_large\/"},"images":["ButikBora_59fc82af65dd7ccb068d163d1a9c4757.jpeg","ButikBora_be558fd44bc07ab5a742ffbb4148f359.jpeg","ButikBora_4f29b89c87bef47e886936fa2c31f136.jpeg"]},{"id":27749883,"product_id":28186630,"name":"Siyah Slimfit Kesik Yaka Oval Kesim","link":"https:\/\/www.shopier.com\/28186630?app_id=13","absolute_link":"https:\/\/www.shopier.com\/28186630","price":{"price_formatted":"350","price_legacy_formatted":"350,00 TL","price_code_formatted":"350 TL","price_symbol_formatted":"\u20ba350","price_without_cent":"350","price_cent":",00","price_code":"TL","price_symbol":"\u20ba","has_cent":false},"is_product_discounted":false,"absolute_price":"","original_price":null,"labels":{"digital_product":{"enabled":false},"last_item":{"enabled":false},"new":{"enabled":false},"automatic_discount":{"enabled":false},"discounted_product":{"enabled":false,"rate":0}},"is_discounted":false,"currency":"TL","image_prefix":"https:\/\/cdn.shopier.app\/","image_endpoints":{"small":"pictures_small\/","mid":"pictures_mid\/","large":"pictures_large\/"},"images":["ButikBora_8656eb701ec1754500d84dfdc41f9700.jpeg"]},{"id":27749711,"product_id":28186458,"name":"Beyaz Slimfit Yakal\u0131","link":"https:\/\/www.shopier.com\/28186458?app_id=13","absolute_link":"https:\/\/www.shopier.com\/28186458","price":{"price_formatted":"550","price_legacy_formatted":"550,00 TL","price_code_formatted":"550 TL","price_symbol_formatted":"\u20ba550","price_without_cent":"550","price_cent":",00","price_code":"TL","price_symbol":"\u20ba","has_cent":false},"is_product_discounted":false,"absolute_price":"","original_price":null,"labels":{"digital_product":{"enabled":false},"last_item":{"enabled":false},"new":{"enabled":false},"automatic_discount":{"enabled":false},"discounted_product":{"enabled":false,"rate":0}},"is_discounted":false,"currency":"TL","image_prefix":"https:\/\/cdn.shopier.app\/","image_endpoints":{"small":"pictures_small\/","mid":"pictures_mid\/","large":"pictures_large\/"},"images":["ButikBora_513f10fbbee8f8e475e1a0f502635879.jpeg"]}]}}};

let $cent = '';
let $currency_symbol = '';
let $currency_code = 'TL';

</script>

<header class="header header-fixed">
    <nav class="navbar">
        <div class="container-store">
            <div><a class="search-back-btn" href="javascript:;">
                    <svg width="24" height="24" viewbox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M15.0003 20.67C14.8103 20.67 14.6203 20.6 14.4703 20.45L7.95027 13.93C6.89027 12.87 6.89027 11.13 7.95027 10.07L14.4703 3.55002C14.7603 3.26002 15.2403 3.26002 15.5303 3.55002C15.8203 3.84002 15.8203 4.32002 15.5303 4.61002L9.01027 11.13C8.53027 11.61 8.53027 12.39 9.01027 12.87L15.5303 19.39C15.8203 19.68 15.8203 20.16 15.5303 20.45C15.3803 20.59 15.1903 20.67 15.0003 20.67Z" fill="currentColor"></path>
                    </svg>
                    <span>Geri git</span></a>
                <div class="logo logo-primary">
                    <img src="s/templates/storev3/assets/svgs/shopier.svg" alt="shopier" width="110" height="32">
                </div>
                                    <div class="logo logo-secondary !hidden">
                        <img src="logo_234/ButikBora7879_5645cee5-209f-4e07-9c26-07cb196bd26c.jpg" srcset="logo_468/ButikBora7879_5645cee5-209f-4e07-9c26-07cb196bd26c.jpg" alt="ButikBora">
                    </div>
                                <div class="flex items-center">
                    <div class="store-title !hidden">
                        <div>Butik Bora </div>
                    </div>
                </div>
            </div>
                                        <div class="header-search-area">
            <div class="input-search-wrapper js-input-search-wrapper">
                <div class="search-backdrop"></div>
                <div class="input-search">
                    <button class="input-back-btn" type="button">
                        <svg width="24" height="24" viewbox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M15.0003 20.67C14.8103 20.67 14.6203 20.6 14.4703 20.45L7.95027 13.93C6.89027 12.87 6.89027 11.13 7.95027 10.07L14.4703 3.55002C14.7603 3.26002 15.2403 3.26002 15.5303 3.55002C15.8203 3.84002 15.8203 4.32002 15.5303 4.61002L9.01027 11.13C8.53027 11.61 8.53027 12.39 9.01027 12.87L15.5303 19.39C15.8203 19.68 15.8203 20.16 15.5303 20.45C15.3803 20.59 15.1903 20.67 15.0003 20.67Z" fill="currentColor"></path>
                        </svg>
                    </button>
                    <div class="dropdown input-box-wrapper shopier-es">
                        <button class="dropdown-toggle" type="button" data-bs-toggle="dropdown"></button>
                        <form class="input-box shopier-es—form searchForm" action="https://www.shopier.com/ButikBora" method="post" autocomplete="off" id="shopier-es--form">
                            <input id="shopier-es--input" class="search-modal-input js-input-search shopier-es--input" type="text" name="search" placeholder=" " autocomplete="off" aria-label="Search">
                            <div class="input-search-icon" id="shopier-es--button" type="submit">
                                <svg width="24" height="24" viewbox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M11.5 21C16.7467 21 21 16.7467 21 11.5C21 6.25329 16.7467 2 11.5 2C6.25329 2 2 6.25329 2 11.5C2 16.7467 6.25329 21 11.5 21Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                                    <path d="M22 22L20 20" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                                </svg>
                            </div>
                            <button class="input-clear-btn" type="reset">
                                <svg width="24" height="24" viewbox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M18 34.125C9.105 34.125 1.875 26.895 1.875 18C1.875 9.105 9.105 1.875 18 1.875C26.895 1.875 34.125 9.105 34.125 18C34.125 26.895 26.895 34.125 18 34.125ZM18 4.125C10.35 4.125 4.125 10.35 4.125 18C4.125 25.65 10.35 31.875 18 31.875C25.65 31.875 31.875 25.65 31.875 18C31.875 10.35 25.65 4.125 18 4.125Z" fill="#2F3352"></path>
                                    <path d="M13.7541 23.3691C13.4691 23.3691 13.1841 23.2641 12.9591 23.0391C12.5241 22.6041 12.5241 21.8841 12.9591 21.4491L21.4491 12.9591C21.8841 12.5241 22.6041 12.5241 23.0391 12.9591C23.4741 13.3941 23.4741 14.1141 23.0391 14.5491L14.5491 23.0391C14.3391 23.2641 14.0391 23.3691 13.7541 23.3691Z" fill="#2F3352"></path>
                                    <path d="M22.2441 23.3691C21.9591 23.3691 21.6741 23.2641 21.4491 23.0391L12.9591 14.5491C12.5241 14.1141 12.5241 13.3941 12.9591 12.9591C13.3941 12.5241 14.1141 12.5241 14.5491 12.9591L23.0391 21.4491C23.4741 21.8841 23.4741 22.6041 23.0391 23.0391C22.8141 23.2641 22.5291 23.3691 22.2441 23.3691Z" fill="#2F3352"></path>
                                </svg>
                            </button>
                            <div class="dropdown-menu search-group__result shopier-es--body" id="shopier-es--body" style="display: none">
                                <ul class="js-input-search-results term-results shopier-es--results" id="shopier-es--results">
                                </ul>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
                    <div>
                    <button class="lg:hidden header-search outline-none" id="shopier-es--toggle-mobile" data-bs-toggle="offcanvas" data-bs-target="#search-canvas" aria-label="search-button">
                        <svg width="24" height="24" viewbox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M11.5 21C16.7467 21 21 16.7467 21 11.5C21 6.25329 16.7467 2 11.5 2C6.25329 2 2 6.25329 2 11.5C2 16.7467 6.25329 21 11.5 21Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                            <path d="M22 22L20 20" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                        </svg>
                    </button>
                                        <div class="header-basket">
    <a href="basket/ButikBora" class="header-cart-icon">
        <div class="navbar-basket-content" id="product-count-div">
            <span id="product-count" class="header-cart__count">0</span>
        </div>
    </a>
</div>
                </div>
                    </div>
    </nav>

</header>
<div class="header-hidden-effect !hidden">
</div>
                        <div id="discount-bar" class=" discount xy-top-bar  !hidden ">
                <div class="discount-main-layout-content">
                    <div class="notification-bar notification-bar-primary" data-redirect-url="" data-clickable="" data-discount-id="">
                        <div class="notification-bar-header">
                            <button id="defer-discount-notification" class="notification-bar-close">
                                <svg width="24" height="24" viewbox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M18 34.125C9.105 34.125 1.875 26.895 1.875 18C1.875 9.105 9.105 1.875 18 1.875C26.895 1.875 34.125 9.105 34.125 18C34.125 26.895 26.895 34.125 18 34.125ZM18 4.125C10.35 4.125 4.125 10.35 4.125 18C4.125 25.65 10.35 31.875 18 31.875C25.65 31.875 31.875 25.65 31.875 18C31.875 10.35 25.65 4.125 18 4.125Z" fill="#2F3352"></path>
                                    <path d="M13.7541 23.3691C13.4691 23.3691 13.1841 23.2641 12.9591 23.0391C12.5241 22.6041 12.5241 21.8841 12.9591 21.4491L21.4491 12.9591C21.8841 12.5241 22.6041 12.5241 23.0391 12.9591C23.4741 13.3941 23.4741 14.1141 23.0391 14.5491L14.5491 23.0391C14.3391 23.2641 14.0391 23.3691 13.7541 23.3691Z" fill="#2F3352"></path>
                                    <path d="M22.2441 23.3691C21.9591 23.3691 21.6741 23.2641 21.4491 23.0391L12.9591 14.5491C12.5241 14.1141 12.5241 13.3941 12.9591 12.9591C13.3941 12.5241 14.1141 12.5241 14.5491 12.9591L23.0391 21.4491C23.4741 21.8841 23.4741 22.6041 23.0391 23.0391C22.8141 23.2641 22.5291 23.3691 22.2441 23.3691Z" fill="#2F3352"></path>
                                </svg>
                                <span class="sr-only">Kapat</span></button>
                        </div>
                        <div class="notification-bar-body">
                            <p class="notification-bar-text"></p>
                        </div>
                        <div id="notification-bar-button" class="flex justify-center mt-[9px] !hidden ">
                            <div class="notification-bar-action-btn " type="button">
                                <span class="discount-button-text"> </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="offcanvas offcanvas-right discount-canvas" tabindex="-1" id="discountNotificationCanvas" aria-labelledby="discountNotificationCanvasLabel" data-bs-backdrop="static">
    <div class="offcanvas-header">
        <div class="container-store lg:px-[73px]">
            <button class="discount-canvas-close" type="button" data-bs-dismiss="offcanvas" aria-label="Close">
                <svg width="24" height="24" viewbox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M15.0003 20.67C14.8103 20.67 14.6203 20.6 14.4703 20.45L7.95027 13.93C6.89027 12.87 6.89027 11.13 7.95027 10.07L14.4703 3.55002C14.7603 3.26002 15.2403 3.26002 15.5303 3.55002C15.8203 3.84002 15.8203 4.32002 15.5303 4.61002L9.01027 11.13C8.53027 11.61 8.53027 12.39 9.01027 12.87L15.5303 19.39C15.8203 19.68 15.8203 20.16 15.5303 20.45C15.3803 20.59 15.1903 20.67 15.0003 20.67Z" fill="currentColor"></path>
                </svg>
                <span class="discount-back-text"></span></button>
        </div>
    </div>
    <div class="offcanvas-body xy-discount-offcanvas-body">
        <div class="flex justify-between">
            <div class="container-store">
                <div class="notification-bar notification-bar-secondary">
                    <div class="notification-bar-header"></div>
                    <div class="notification-bar-body">
                        <p class="discount-information notification-bar-text">
                        </p>
                    </div>
                </div>
            </div>
        </div>
        <div class="flex justify-center mt-[19px] lg:mt-5">
            <div class="container-store">
                <ul class="discount-canvas-tab">
                    <li class="tabs-bar-item discount-canvas-tab-item cursor-pointer">
                        <div class="discount-canvas-tab-link active discount-add-text"></div>
                    </li>
                    <li class="tabs-bar-item discount-canvas-tab-item cursor-pointer" id="discount-win-tab">
                        <div class="discount-canvas-tab-link discount-win-text"></div>
                    </li>
                </ul>
            </div>
        </div>
        <div id="section-bar-addable" class="tabs-bar-content ">
            <div class="discount-canvas-categories discount-canvas-categories-addable">
                <div class="container-store">
                    <div class="tab-discount">
                        <div class="swiper js-discount-tab-swiper">
                            <div class="swiper-wrapper">
                                <div class="swiper-slide discount-clone-addable-category !hidden">
                                    <button class="discount-canvas-category js-discount-canvas-category addable-category-button " type="button">
                                        <div></div>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="discount-addable-categories">
                            <div class="swiper-button-prev-discount">
                                <div><svg width="24" height="24" viewbox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M15.0003 20.67C14.8103 20.67 14.6203 20.6 14.4703 20.45L7.95027 13.93C6.89027 12.87 6.89027 11.13 7.95027 10.07L14.4703 3.55002C14.7603 3.26002 15.2403 3.26002 15.5303 3.55002C15.8203 3.84002 15.8203 4.32002 15.5303 4.61002L9.01027 11.13C8.53027 11.61 8.53027 12.39 9.01027 12.87L15.5303 19.39C15.8203 19.68 15.8203 20.16 15.5303 20.45C15.3803 20.59 15.1903 20.67 15.0003 20.67Z" fill="currentColor"></path>
                                    </svg></div>
                            </div>
                            <div class="swiper-button-next-discount">
                                <div><svg width="24" height="24" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M5.93974 13.78C5.81307 13.78 5.68641 13.7333 5.58641 13.6333C5.39307 13.44 5.39307 13.12 5.58641 12.9267L9.93307 8.58001C10.2531 8.26001 10.2531 7.74001 9.93307 7.42001L5.58641 3.07335C5.39307 2.88001 5.39307 2.56001 5.58641 2.36668C5.77974 2.17335 6.09974 2.17335 6.29307 2.36668L10.6397 6.71335C10.9797 7.05335 11.1731 7.51335 11.1731 8.00001C11.1731 8.48668 10.9864 8.94668 10.6397 9.28668L6.29307 13.6333C6.19307 13.7267 6.06641 13.78 5.93974 13.78Z" fill="currentColor"></path>
                                    </svg></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="flex justify-center addable_product_count-div">
                <div class="container-store">
                    <div class="discount-canvas-actions discount-canvas-actions-addable">
                        <div class="relative h-[24px] lg:h-[17px] flex items-center">
                            <span id="addable_product_count" class="text-14 font-medium text-[#9C9EAC] leading-[17px]"></span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="discount-canvas-products">
                <div class="container-store">
                    <div class="discount-canvas-products-grid addable-canvas-product">
                        <div class="product-card placeholder addable-placeholder !hidden">
                            <a href="#" title="Product Title" role="link">
                                <div class="product-card-header">
                                    <div class="product-card-image-container"> </div>
                                </div>
                                <div class="product-card-body">
                                    <div class="product-card-badges"><span class="sr-only"></span><span class="sr-only"></span></div>
                                    <div class="product-card-title">
                                        <h3 class="sr-only"></h3>
                                    </div>
                                    <div class="product-card-price">
                                        <div class="price price-current"><span class="sr-only"></span><span class="sr-only"></span><span class="sr-only"> </span></div>
                                        <div class="price price-old"><span class="sr-only"></span><span class="sr-only"></span><span class="sr-only"></span></div>
                                    </div>
                                </div>
                            </a>
                        </div>
                    </div>
                    <div class="discount-canvas-products-grid addable-products"></div>
                </div>
            </div>
        </div>
        <div class="product-card product-card-discount product-card-clone !hidden">
            <a href="" class="discount-product-link" role="link">
                <div class="product-card-header">
                    <div class="product-card-image-container">
                        <picture>
                            <img class="w-full discount-image-wrapper" src="" alt="" width="226" height="226">
                        </picture>
                        <div class="product-card-no-stock !hidden">
                            <div class="badge-no-stock"></div>
                        </div>
                    </div>
                </div>
                <div class="product-card-body">
                    <div class="product-card-badges">
                        <div class="badge-left flex gap-x-1 items-start auto-badge !hidden">
                            <svg class="purple-discount-badge mt-[-3px]" width="26" height="26" viewbox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M6.71404 20.5743L6.71363 20.5739L2.775 16.2628L2.7744 16.2621C1.07567 14.4093 1.07442 11.6132 2.77531 9.74802L6.71363 5.43725L6.71364 5.43725L6.71544 5.43525C7.8252 4.20733 9.41962 3.5 11.0865 3.5H18.5844C20.7275 3.5 22.1758 3.98639 23.0951 4.90273C24.014 5.81872 24.5 7.25983 24.5 9.38889V16.6111C24.5 18.7402 24.014 20.1813 23.0951 21.0973C22.1758 22.0136 20.7275 22.5 18.5844 22.5H11.0865C9.41937 22.5 7.82417 21.7924 6.71404 20.5743Z" fill="white" fill-opacity="0.72" stroke="#0B0F34"></path>
                                <path d="M8.73388 14.5609C7.87837 13.7059 7.878 12.2934 8.73307 11.4379C9.58815 10.5824 11.0006 10.582 11.8561 11.4371C12.7116 12.2921 12.712 13.7046 11.8569 14.5601C11.0019 15.4156 9.5894 15.416 8.73388 14.5609Z" stroke="#0B0F34"></path>
                            </svg>
                            <span class="badge-only-number badge-discount auto-discount-rate"></span>
                        </div>
                        <span class="badge badge-discount  discount-rate !hidden"></span>
                        <span class="badge item-filter__badge !hidden"></span>
                    </div>
                    <div class="product-card-title">
                        <h3 class="product-card-title-text discount-product-name"></h3>
                    </div>
                    <div class="product-card-price discount-container !hidden ">
                        <div class="price price-current">
                            <span class="price-value"></span>
                            <span class="price-cent"></span>
                            <span class="price-currency"></span>
                        </div>
                        <div class="price price-old">
                            <span class="price-value"></span>
                            <span class="price-cent"></span>
                            <span class="price-currency"></span>
                        </div>
                    </div>
                    <div class="product-card-price price-container !hidden">
                        <div class="price price-current">
                            <span class="price-value"></span>
                            <span class="price-cent"></span>
                            <span class="price-currency"></span>
                        </div>
                    </div>
                </div>
            </a>
        </div>
        <div id="section-bar-earnable" class="tabs-bar-content !hidden">
            <div class="discount-canvas-categories discount-canvas-categories-earnable">
                <div class="container-store">
                    <div class="tab-discount">
                        <div class="swiper js-discount-tab-swiper2">
                            <div class="swiper-wrapper">
                                <div class="swiper-slide discount-clone-earnable-category !hidden">
                                    <button class="discount-canvas-category js-discount-canvas-category earnable-category-button" type="button">
                                        <div></div>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="discount-earnable-categories">
                            <div class="swiper-button-prev-discount2">
                                <div><svg width="24" height="24" viewbox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M15.0003 20.67C14.8103 20.67 14.6203 20.6 14.4703 20.45L7.95027 13.93C6.89027 12.87 6.89027 11.13 7.95027 10.07L14.4703 3.55002C14.7603 3.26002 15.2403 3.26002 15.5303 3.55002C15.8203 3.84002 15.8203 4.32002 15.5303 4.61002L9.01027 11.13C8.53027 11.61 8.53027 12.39 9.01027 12.87L15.5303 19.39C15.8203 19.68 15.8203 20.16 15.5303 20.45C15.3803 20.59 15.1903 20.67 15.0003 20.67Z" fill="currentColor"></path>
                                    </svg></div>
                            </div>
                            <div class="swiper-button-next-discount2">
                                <div><svg width="24" height="24" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M5.93974 13.78C5.81307 13.78 5.68641 13.7333 5.58641 13.6333C5.39307 13.44 5.39307 13.12 5.58641 12.9267L9.93307 8.58001C10.2531 8.26001 10.2531 7.74001 9.93307 7.42001L5.58641 3.07335C5.39307 2.88001 5.39307 2.56001 5.58641 2.36668C5.77974 2.17335 6.09974 2.17335 6.29307 2.36668L10.6397 6.71335C10.9797 7.05335 11.1731 7.51335 11.1731 8.00001C11.1731 8.48668 10.9864 8.94668 10.6397 9.28668L6.29307 13.6333C6.19307 13.7267 6.06641 13.78 5.93974 13.78Z" fill="currentColor"></path>
                                    </svg></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="flex justify-center earnable_product_count-div">
                <div class="container-store">
                    <div class="discount-canvas-actions discount-canvas-actions-earnable">
                        <div class="relative h-[24px] lg:h-[17px] flex items-center">
                            <span id="earnable_product_count" class="text-14 font-medium text-[#9C9EAC] leading-[17px]"></span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="discount-canvas-products">
                <div class="container-store">
                    <div class="discount-canvas-products-grid earnable-canvas-product">
                        <div class="product-card placeholder earnable-placeholder !hidden">
                            <a href="#" title="Product Title" role="link">
                                <div class="product-card-header">
                                    <div class="product-card-image-container"> </div>
                                </div>
                                <div class="product-card-body">
                                    <div class="product-card-badges"><span class="sr-only"></span><span class="sr-only"></span></div>
                                    <div class="product-card-title">
                                        <h3 class="sr-only"></h3>
                                    </div>
                                    <div class="product-card-price">
                                        <div class="price price-current"><span class="sr-only"></span><span class="sr-only"></span><span class="sr-only"> </span></div>
                                        <div class="price price-old"><span class="sr-only"></span><span class="sr-only"></span><span class="sr-only"></span></div>
                                    </div>
                                </div>
                            </a>
                        </div>
                    </div>
                    <div class="discount-canvas-products-grid earnable-products"></div>
                </div>
            </div>
        </div>
    </div>
    <div class="offcanvas-footer"></div>
</div>

<script>
    function updateDiscountStorage(newValue) {
        const mainObject = JSON.parse(sessionStorage.getItem("ButikBora") || '{}');
        mainObject.discountStorage = newValue;
        sessionStorage.setItem("ButikBora", JSON.stringify(mainObject));
    }
    updateDiscountStorage(null);


    document.querySelector('.notification-bar-close')?.addEventListener('click',function (){
                    document.querySelector('.discount-main-layout.discount').remove()
            });
    document.addEventListener('DOMContentLoaded', function () {
        const tabs = document.querySelectorAll('.tabs-bar-item > div');
        const sections = document.querySelectorAll('.tabs-bar-content');
        tabs.forEach((tab, index) => {
            tab.addEventListener('click', function (event) {
                event.preventDefault();
                tabs.forEach(tab => tab.classList.remove('active'));

                sections.forEach(section => section.classList.add('!hidden'));

                tab.classList.add('active');

                sections[index].classList.remove('!hidden');
            });
        });
    });
    function discountImageGenerator(product, productCard){
        productCard.querySelector('.discount-product-link').href = product.link;
        productCard.querySelector('.discount-image-wrapper').src = product.image_prefix + product.image_endpoints.mid + product.image;
        productCard.querySelector('.discount-image-wrapper').srcset = product.image_prefix + product.image_endpoints.mid + product.image;
        productCard.querySelector('.discount-product-name').innerHTML = product.name;
    }

    function discountPriceGenerator(item, newProduct) {
        const discountContainer = newProduct.querySelector('.discount-container');
        const priceContainer = newProduct.querySelector('.price-container');
        const {price_code, price_symbol, price_without_cent, has_cent, price_cent} = item.price;
        const {
            price_formatted = "0",
            price_code: original_code = "USD",
            price_symbol: original_symbol = "$",
            price_without_cent: original_without_cent = 0,
            price_cent: original_cent = "00"
        } = item.original_price || {};

        const formatPrice = (price, symbol, cent, code, isTL) => ({
            value: isTL ? price : symbol + price,
            centClass: has_cent ? '' : '!hidden',
            codeClass: isTL ? '' : '!hidden',
            code
        });

        const createPriceTemplate = ({value, centClass, codeClass, code}, priceClass) => `
        <div class="price ${priceClass}">
            <span class="price-value">${value}</span>
            <span class="price-cent ${centClass}">${price_cent}</span>
            <span class="price-currency ${codeClass}">${code}</span>
        </div>`;

        const isTL = price_code === 'TL';
        const priceData = formatPrice(price_without_cent, price_symbol, price_cent, price_code, isTL);
        const discountPriceData = formatPrice(original_without_cent, original_symbol, original_cent, original_code, isTL);


        const priceTemplate = createPriceTemplate(priceData, 'price-current price-new');
        const discountTemplate = createPriceTemplate(discountPriceData, 'price-old');

        if (parseInt(price_formatted) !== 0) {
            discountContainer.classList.remove("!hidden");
            discountContainer.innerHTML = priceTemplate + discountTemplate;
        } else {
            priceContainer.classList.remove('!hidden');
            priceContainer.innerHTML = priceTemplate;
        }
    }

    function setDiscountContainer(item, newProduct) {
        let productCardPurpleBadge = newProduct.querySelector('.auto-badge');
        let productDiscountRate = newProduct.querySelector('.discount-rate');
        let productAutoDiscountRate = newProduct.querySelector('.auto-discount-rate');
        if (item.is_discounted) {
            if (item.is_self_discounted) {
                productDiscountRate.classList.remove('!hidden')
                productDiscountRate.innerText = "%"+item.discount_label_rate +' '+'İndirim';
            }
            if (item.discount_label_type === "automatic_discount") {
                productCardPurpleBadge.classList.remove('!hidden');
                productDiscountRate.classList.add('!hidden')
                productAutoDiscountRate.innerText = "% " + item.discount_label_rate + "";
            }
        }
    }

    function setDiscountProductLabel(item, newProduct) {
        let productCardBadgeEl = newProduct.querySelector('.item-filter__badge');
        if (item.label !== null) {
            productCardBadgeEl.classList.remove('!hidden');
            productCardBadgeEl.textContent = item.label_text;
            if (item.label === 'out_of_stock'){
                newProduct.querySelector('.product-card-no-stock').classList.remove('!hidden')
                newProduct.querySelector('.badge-no-stock').innerText = 'Tükendi'
            }
        } else {
            productCardBadgeEl.classList.remove('block');
            productCardBadgeEl.classList.add("!hidden");
        }
    }

    function discountBadgeGenerator(item, newProduct) {
        const productCardBadges = newProduct.querySelector('.product-card-badges')
        if ((item.label === null || item.label === 'out_of_stock') && !item.is_discounted) {
            productCardBadges.classList.add('!hidden');
        } else {
            productCardBadges.classList.remove('!hidden');
            setDiscountContainer(item, newProduct);
        }
        /* For out of stock case */
        setDiscountProductLabel(item, newProduct);
    }

    let isDiscountLoader = false;

    function showDiscountLoader() {
        if (!isDiscountLoader) {
            let addableLoaderClear = document.querySelector('.addable-placeholder')
            let earnableLoaderClear = document.querySelector('.earnable-placeholder')
            let addableButtonPlaceholder = document.querySelectorAll('.addable-category-button')
            let earanableButtonPlaceholder = document.querySelectorAll('.earnable-category-button')
            const addableContainer = document.querySelector('.addable-canvas-product')
            const earnableContainer = document.querySelector('.earnable-canvas-product')
            const addableGrid = document.querySelector('.addable-products');
            const earnableGrid = document.querySelector('.earnable-products');
            addableButtonPlaceholder.forEach(function (element){
                element.classList.add('placeholder')
                element.querySelector('div').classList.add('sr-only')
            })
            earanableButtonPlaceholder.forEach(function (element){
                element.classList.add('placeholder')
                element.querySelector('div').classList.add('sr-only')
            })

            for (let i = 0; i < 24; i++) {
                let addableClone = addableLoaderClear.cloneNode(true);
                let earnableClone = earnableLoaderClear.cloneNode(true);
                addableClone?.classList.remove('!hidden');
                earnableClone?.classList.remove('!hidden');
                addableContainer?.appendChild(addableClone);
                earnableContainer?.appendChild(earnableClone);
            }
            addableGrid.classList.add('!hidden')
            earnableGrid.classList.add('!hidden')
            isDiscountLoader = true;
        }
    }

    function hideDiscountLoader() {
        let addableLoaderClear = document.querySelectorAll('.addable-placeholder')
        let earnableLoaderClear = document.querySelectorAll('.earnable-placeholder')
        let addableButtonPlaceholder = document.querySelectorAll('.addable-category-button')
        let earanableButtonPlaceholder = document.querySelectorAll('.earnable-category-button')
        const addableGrid = document.querySelector('.addable-products');
        const earnableGrid = document.querySelector('.earnable-products');
        addableButtonPlaceholder.forEach(function (element){
            element.classList.remove('placeholder')
            element.querySelector('div').classList.remove('sr-only')
        })
        earanableButtonPlaceholder.forEach(function (element){
            element.classList.remove('placeholder')
            element.querySelector('div').classList.remove('sr-only')
        })
        addableLoaderClear.forEach(function (element){
            element.classList.add('!hidden')
        })
        earnableLoaderClear.forEach(function (element){
            element.classList.add('!hidden')
        })
        addableGrid.classList.remove('!hidden')
        earnableGrid.classList.remove('!hidden')
        isDiscountLoader = false;
    }

    async function getDiscountData(request_type, discount_id) {
        let body = JSON.parse(sessionStorage.getItem('ButikBora'))['discountStorage']["shop_" + shopName];
        const params = new URLSearchParams({
            request_type: request_type,
            discount_id: discount_id
        }).toString();
        return await fetch(
            `https://www.shopier.com/s/api/v1/discount?username=${shopName}&${params}`,
            {
                method: "POST",
                headers: {
                    "Content-Type": "application/json",
                },
                body: JSON.stringify(body),
            }
        );
    }

    function attachDiscountCategoryChipEvent() {
        let discountCategoryButtons = document.querySelectorAll(".discount-canvas-category");
        discountCategoryButtons.forEach(function (button) {
            button.addEventListener("click", async function (e) {
                showDiscountLoader()
                let discountCategoryId = e.currentTarget.getAttribute('data-discount-category-id');
                let discountChipType = e.currentTarget.getAttribute('data-discount-chip-type');
                let discountStorage = JSON.parse(sessionStorage.getItem('ButikBora'))['discountStorage']["shop_" + shopName];

                if (discountChipType === "addable") {
                    let addableChip = document.querySelector('.addable-category-button.active');
                    addableChip?.classList.remove('active');
                    e.currentTarget.classList?.add('active');
                    discountStorage.addable_product.listing_features.load_more.status = true;
                    discountStorage.addable_product.listing_features.load_more.method =
                        "by_category";
                    discountStorage.addable_product.listing_features.load_more.category_id =
                        discountCategoryId;
                    discountStorage.addable_product.listing_features.offset = 0;
                }
                if (discountChipType === "earnable") {

                    let earnableChip = document.querySelector('.earnable-category-button.active');
                    earnableChip?.classList.remove('active');
                    e.currentTarget.classList?.add('active');
                    discountStorage.earnable_product.listing_features.load_more.status = true;
                    discountStorage.earnable_product.listing_features.load_more.method =
                        "by_category";
                    discountStorage.earnable_product.listing_features.load_more.category_id =
                        discountCategoryId;
                    discountStorage.earnable_product.listing_features.offset = 0;
                }
                let discountId = discountStorage.discount_id;
                let newDiscountStorage = {
                    shop_ButikBora: discountStorage
                };
                updateDiscountStorage(newDiscountStorage)

                let requestType = (discountChipType === "addable") ? "get_discount_product_for_add" : "get_discount_product_for_earn";
                let data = await getDiscountData(requestType, discountId).then(
                    (response) => response.json()
                );
                const addableGrid = document.querySelector('.addable-products');
                const earnableGrid = document.querySelector('.earnable-products');


                if (data["addable_data"]) {
                    addableGrid.innerHTML = '';
                    const addableData = data.addable_data.product_data.products;
                    document.getElementById('addable_product_count').textContent = data.addable_data.product_data.pagination.total_text;
                    addableData.forEach(product => {
                        const addableTotal = data.addable_data.product_data.pagination.total;
                        listProduct(product, addableGrid, 'addable', addableTotal, null);

                    });
                }
                if (data["earnable_data"]) {
                    earnableGrid.innerHTML = '';
                    const earnableData = data.earnable_data.product_data.products;
                    document.getElementById('earnable_product_count').textContent = data.earnable_data.product_data.pagination.total_text;
                    earnableData.forEach(product => {
                        const earnableTotal = data.earnable_data.product_data.pagination.total;
                        listProduct(product, earnableGrid, 'earnable', null, earnableTotal);
                    });
                }
                setTimeout(hideDiscountLoader, 1000)
            });
        });
    }

    const backdrop = document.createElement("div");
    document.querySelector('.notification-bar')?.addEventListener('click', async () => {
        let notificationBar = document.querySelector('.notification-bar')
        let notificationBarButton = document.querySelector('#notification-bar-button')
        let redirectUrl = notificationBar ? notificationBar.getAttribute('data-redirect-url') : null;
        if (!notificationBarButton?.classList.contains('!hidden')){
            if (redirectUrl && redirectUrl !== "#" && redirectUrl !=="") {
                window.location.href = redirectUrl;
                return;
            }
        }

        let clickable = notificationBar ? notificationBar.getAttribute('data-clickable') : null;
        let discountId = notificationBar ? notificationBar.getAttribute('data-discount-id') : null  ;
        if (discountId <= 0 || clickable === "false") {
            return;
        }
        if (!notificationBarButton?.classList.contains('!hidden')){
            if (redirectUrl ===null || redirectUrl ===""){
                if (discountId >= 0 || clickable === "true") {
                    const discountModal = window.bootstrap.Offcanvas.getOrCreateInstance(document.getElementById('discountNotificationCanvas'));
                    discountModal.show();
                }
            }
        }
        let discountStorage = {
            ["shop_" + shopName]: {
                discount_id: discountId,
                addable_product: {
                    listing_features: {
                        offset: 0,
                        total: 0,
                        sorting: {status: false},
                        filtering: {status: false},
                        search: {status: false},
                        load_more: {status: false, method: "all"},
                    },
                },
                earnable_product: {
                    listing_features: {
                        offset: 0,
                        total: 0,
                        sorting: {status: false},
                        filtering: {status: false},
                        search: {status: false},
                        load_more: {status: false, method: "all"},
                    },
                },
            }
        };
        updateDiscountStorage(discountStorage)
        let response = await getDiscountData("get_discount", discountId).then((data) =>
            data.json()
        );
        document.querySelector('.discount-back-text').textContent = response.discount_text_list.back;

        document.querySelectorAll(".discount-information").forEach((element) => {
            element.innerHTML = response.discount_canvas_notification_message;
        });
        const {back, win, add} = response.discount_text_list;
        document.querySelector(".discount-add-text").innerHTML = add;
        document.querySelector(".discount-win-text").innerHTML = win;
        if (!response.show_discount_earnable_section) {
            document.querySelector("#discount-win-tab").classList.add("!hidden");
        }
        if (!response.show_discount_tabs){
            document.querySelector('.discount-canvas-tab').classList.add('!hidden');
        }
        document.querySelectorAll(".discount-back-text").forEach((element) => {
            element.innerHTML = back;
        });
        let addableCategoryDiv = document.querySelector('#section-bar-addable .discount-canvas-categories')
        let addableCountDiv = document.querySelector('.addable_product_count-div')
        if (response.addable_data.category_data) {
            const addableCategories = response.addable_data.category_data.categories;
            const addableCategoryContainer = document.querySelector('.js-discount-tab-swiper .swiper-wrapper');
            const addableCategoryTemplate = document.querySelector('.discount-clone-addable-category');
            addableCategoryContainer.querySelectorAll('.added-category').forEach(el => el.remove());
            addableCategoryDiv?.classList.remove('!hidden')
            let addableCategoryCount = 0;
            Object.entries(addableCategories).forEach(([key, value]) => {
                const addableCategory = addableCategoryTemplate.cloneNode(true);
                const button = addableCategory.querySelector('button');
                if (addableCategoryCount === 0) {
                    addableCategoryCount++;
                    button.classList.add('active');
                } else {
                    button.classList.remove('active');
                }
                button.setAttribute("data-discount-chip-type", "addable");
                button.setAttribute("data-discount-category-id", key);
                addableCategory.classList.remove('discount-clone-addable-category');
                addableCategory.classList.remove('!hidden');
                addableCategory.classList.add('added-category');
                let addableCategoryText = addableCategory.querySelector('button > div')
                addableCategoryText.innerHTML = value;
                let addableCategoryTextLen = addableCategoryText.textContent.length;
                if (addableCategoryTextLen >= 19) {
                    button.classList.add('discount-canvas-category-small');
                    button.classList.add('discount-canvas-category-multi-line');
                }
                window.discountTabSwiperEl.appendSlide(addableCategory)
            });
        }else{
            addableCategoryDiv?.remove()
            addableCountDiv?.classList.add('!hidden')
        }
        addableCountDiv?.classList.remove('!hidden')
        const addableProductCount = document.getElementById('addable_product_count');
        addableProductCount.textContent = response.addable_data.product_data.pagination.total_text;
        let earnableCategoryDiv = document.querySelector('#section-bar-earnable .discount-canvas-categories')
        let earnableCountDiv = document.querySelector('.earnable_product_count-div')
        if (response.earnable_data.category_data) {
            const earnableCategories = response.earnable_data.category_data.categories;
            const earnableCategoryContainer = document.querySelector('.js-discount-tab-swiper2 .swiper-wrapper ');
            const earnableCategoryTemplate = document.querySelector('.discount-clone-earnable-category');
            earnableCategoryDiv?.classList.remove('!hidden')
            earnableCategoryContainer.querySelectorAll('.added-category').forEach(el => el.remove());
            let earnableCategoryCount = 0;
            Object.entries(earnableCategories).forEach(([key, value]) => {
                const earnableCategory = earnableCategoryTemplate.cloneNode(true);
                const button = earnableCategory.querySelector('button');
                if (earnableCategoryCount === 0) {
                    earnableCategoryCount++;
                    button.classList.add('active');
                } else {
                    button.classList.remove('active');
                }

                button.setAttribute("data-discount-chip-type", "earnable");
                button.setAttribute("data-discount-category-id", key);
                earnableCategory.classList.remove('discount-clone-earnable-category');
                earnableCategory.classList.remove('!hidden');
                earnableCategory.classList.add('added-category');
                let earnableCategoryText = earnableCategory.querySelector('button > div')
                earnableCategoryText.textContent = value;
                let earnableCategoryTextLen = earnableCategoryText.textContent.length;
                if (earnableCategoryTextLen >= 20){
                    button.classList.add('discount-canvas-category-small')
                    button.classList.add('discount-canvas-category-multi-line')
                }
                window.discountTabSwiperEl2.appendSlide(earnableCategory)
            });
        }else{
            earnableCategoryDiv?.remove();
            earnableCountDiv?.classList.add('!hidden')
        }
        earnableCountDiv?.classList.remove('!hidden')
        const earnableProductCount = document.getElementById('earnable_product_count');
        earnableProductCount.textContent = response.earnable_data.product_data.pagination.total_text;
        displayData(response);
        createDiscountObserver();

        attachDiscountCategoryChipEvent();
    });

    function displayData(data) {
        showDiscountLoader();
        const addableTotal = data.addable_data.product_data.pagination.total;
        const earnableTotal = data.earnable_data.product_data.pagination.total;
        const addableGrid = document.querySelector('.addable-products');
        const earnableGrid = document.querySelector('.earnable-products');
        const addableData = data.addable_data.product_data.products;
        const earnableData = data.earnable_data.product_data.products;
        addableGrid.innerHTML = '';
        earnableGrid.innerHTML = '';
        addableData.forEach(product => {
            listProduct(product, addableGrid, 'addable', addableTotal, earnableTotal);
        });
        earnableData.forEach(product => {
            listProduct(product, earnableGrid, 'earnable', addableTotal, earnableTotal);
        });
        if (!data.show_discount_addable_section && data.show_discount_earnable_section) {
            document.querySelector('.tabs-bar-item').classList.remove('tab-current');
            document.querySelector('.tabs-bar-item > .discount-add-text').classList.remove('active');
            document.querySelector('.tabs-bar-item > .discount-win-text').classList.add('active');
            document.querySelector('.tabs-bar-item').classList.add('!hidden');
            document.querySelector('.tabs-bar-item:nth-child(2)').classList.add('tab-current');
            document.querySelector('#section-bar-addable').classList.add('!hidden');
            document.querySelector('#section-bar-earnable').classList.remove('!hidden');
        }else{
            document.querySelector('.tabs-bar-item').classList.add('tab-current');
            document.querySelector('.tabs-bar-item > .discount-add-text').classList.add('active');
            document.querySelector('.tabs-bar-item > .discount-win-text').classList.remove('active');
            document.querySelector('.tabs-bar-item:nth-child(1)').classList.remove('!hidden');
            document.querySelector('.tabs-bar-item:nth-child(2)').classList.remove('tab-current');
            document.querySelector('#section-bar-addable').classList.remove('!hidden');
            document.querySelector('#section-bar-earnable').classList.add('!hidden');
        }
        setTimeout(function (){
            hideDiscountLoader();
            noMoreRequests = false;
        },1000);
    }

    function listProduct(product, elem, sectionType, addableTotal, earnableTotal) {
        const template = document.querySelector('.product-card-clone');
        const productCard = template.cloneNode(true);
        productCard.classList.remove('product-card-clone');
        productCard.classList.remove('!hidden');
        discountImageGenerator(product, productCard);
        discountPriceGenerator(product, productCard)
        discountBadgeGenerator(product,productCard);
        let discountStorage = JSON.parse(sessionStorage.getItem('ButikBora'))['discountStorage'];
        if (sectionType === "addable") {
            discountStorage.shop_ButikBora.addable_product.listing_features.total = addableTotal;
        } else {
            discountStorage.shop_ButikBora.earnable_product.listing_features.total = earnableTotal;
        }
        UpdatedBadgesMargin('.product-card-discount', '13px', '11px', '14px', '11px');
        updateDiscountStorage(discountStorage)
        elem.appendChild(productCard);
    }
    function resizeWindow() {

        if (window.innerWidth < 1024) {
            scrollHeight = 60;
        } else {
            scrollHeight = 224;
        }

        window.addEventListener("resize", function () {
            if (window.innerWidth < 1024) {
                scrollHeight = 60;
            } else {
                scrollHeight = 224;
            }
        });
    }

    const fetchScrollData = async (type, request_type, id) => {
        return await getDiscountData(request_type, id)
            .then((res) => res.json())
            .then((data) => {
                const elem = document.querySelector(`.${type}-products`);
                let discountStorage = JSON.parse(sessionStorage.getItem('ButikBora'))['discountStorage'];
                const addableTotal = discountStorage.shop_ButikBora.addable_product.listing_features.total;
                const earnableTotal = discountStorage.shop_ButikBora.earnable_product.listing_features.total;
                if (data) {
                    data[`${type}_data`]["product_data"].products.forEach(product => {
                        listProduct(
                            product,
                            elem,
                            type,
                            addableTotal,
                            earnableTotal
                        );
                    })
                }
            });
    };

    function decideSectionType() {
        let currentSection = document.querySelector('.tabs-bar-content:not(.\\!hidden)');
        if (currentSection.id === "section-bar-addable") {
            return "addable";
        } else if (currentSection.id === "section-bar-earnable") {
            return "earnable";
        }
    }

    function setLocalStorageValues(sectionType, offset, total, discountStorage) {
        if (sectionType === "addable") {
            offset = discountStorage.shop_ButikBora.addable_product.listing_features.offset;
            total = discountStorage.shop_ButikBora.addable_product.listing_features.total;
        } else {
            offset = discountStorage.shop_ButikBora.earnable_product.listing_features.offset;
            total = discountStorage.shop_ButikBora.earnable_product.listing_features.total;
        }
        return { offset, total };
    }


    let noMoreRequests = true;
    let lastObservedCard = null;

    function createDiscountObserver() {
        const options = {
            root: null,
            rootMargin: "0px",
            threshold: 0.1,
        };
        const observer = new IntersectionObserver(loadDiscountCallback, options);

        observeLastProductCard(observer);

        document.querySelectorAll('.discount-canvas-tab-link').forEach(button => {
            button.addEventListener('click', () => {
                noMoreRequests = false;
                observeLastProductCard(observer);
            });
        });
    }

    function observeLastProductCard(observer) {
        let sectionType = "";
        sectionType = decideSectionType(sectionType);
        const section = document.getElementById(`section-bar-${sectionType}`);
        const productCards = section.querySelectorAll(".product-card-discount");
        const lastProductCard = productCards[productCards.length - 1];

        if (lastObservedCard) {
            observer.unobserve(lastObservedCard);
        }
        if (lastProductCard) {
            observer.observe(lastProductCard);
            lastObservedCard = lastProductCard;
        }
    }

    const loadDiscountCallback = (entries, observer) => {
        entries.forEach((entry) => {
            if (entry.isIntersecting) {
                if (noMoreRequests) {
                    return;
                }
                loadMoreProducts().then(() => {
                    observeLastProductCard(observer);
                });
            }
        });
    };

    async function loadMoreProducts(sectionType = "", offset = 0, total = 0) {
        return new Promise((resolve) => {
            noMoreRequests = true;
            sectionType = decideSectionType(sectionType);
            let isScrolling = false;
            let productCount = 16;

            resizeWindow();
            if (isScrolling) return;

            let discountStorage = JSON.parse(sessionStorage.getItem('ButikBora'))['discountStorage'];
            ({ offset, total } = setLocalStorageValues(sectionType, offset, total, discountStorage));
            let discountId = discountStorage.shop_ButikBora.discount_id;
            let requestType = (sectionType === "addable")
                ? "get_discount_product_for_add"
                : "get_discount_product_for_earn";
            if (offset + productCount < total) {
                showTempProductLoading(sectionType);

                if (sectionType === "addable") {
                    discountStorage.shop_ButikBora.addable_product.listing_features.offset += productCount;
                }
                if (sectionType === "earnable") {
                    discountStorage.shop_ButikBora.earnable_product.listing_features.offset += productCount;
                }

                updateDiscountStorage(discountStorage);
                isScrolling = true;

                try {
                    fetchScrollData(sectionType, requestType, discountId);
                    setTimeout(() => {
                        hideTempProductLoading(sectionType);
                        isScrolling = false;
                        noMoreRequests = false;
                    }, 500);
                } finally {
                    noMoreRequests = false;
                }
            }

            resolve();
        });
    }


    function showTempProductLoading(sectionType) {
        let loadingTemplate =
            `<div class="product-card placeholder temp_loading">
                            <a href="#" title="Product Title" role="link">
                                <div class="product-card-header">
                                    <div class="product-card-image-container"> </div>
                                </div>
                                <div class="product-card-body">
                                    <div class="product-card-badges"><span class="sr-only"></span><span
                                                class="sr-only"></span></div>
                                    <div class="product-card-title">
                                        <h3 class="sr-only"></h3>
                                    </div>
                                    <div class="product-card-price">
                                        <div class="price price-current"><span class="sr-only"></span><span
                                                    class="sr-only"></span><span class="sr-only"> </span></div>
                                        <div class="price price-old"><span class="sr-only"></span><span
                                                    class="sr-only"></span><span class="sr-only"></span></div>
                                    </div>
                                </div>
                            </a>
                        </div>`;

        let templatesArray = Array.from({length: 16}, () => loadingTemplate);
        let cardEl = document.createElement("div");
        cardEl.classList.value = "temp_loading";
        document.querySelector('.' + sectionType + '-products').innerHTML += templatesArray.join('');
    }

    function hideTempProductLoading(sectionType) {
        let tempLoadingElements = document.querySelectorAll(`.${sectionType}-products .temp_loading`);
        tempLoadingElements.forEach(element => {
            element.remove();
        });
    }

    let deferredDiscountNotification = document.querySelectorAll('#defer-discount-notification');
    deferredDiscountNotification?.forEach(function (el) {
        el.addEventListener('click', function () {
            fetch(
                `https://www.shopier.com/s/api/v1/discount?username=${shopName}&request_type=defer_discount_notification`,
                {
                    method: "GET",
                    headers: {
                        "Content-Type": "application/json",
                    }
                }
            ).then(r => r.json());
        });
    });


</script><script>
    const endpoint = "https://www.shopier.com/s/api/v1/elasticsearch";
    const searchShopName = "ButikBora";

    let elementIds = {
        desktop: {
            searchToggle: "shopier-es--toggle",
            searchButton: "shopier-es--button",
            searchForm: "shopier-es--form",
            searchInput: "shopier-es--input",
            searchBody: "shopier-es--body",
            searchResults: "shopier-es--results"
        },
        mobile: {
            searchToggle: "shopier-es--toggle-mobile",
            searchButton: "shopier-es--button-mobile",
            searchForm: "shopier-es--form-mobile",
            searchInput: "shopier-es--input-mobile",
            searchBody: "shopier-es--body-mobile",
            searchResults: "shopier-es--results-mobile"
        }
    }

    let last_results, last_query, searchForm, searchInput, searchBody, searchResults, searchButton, debounceTimer;

    window.addEventListener("orientationchange", initiateES);
    document.addEventListener('DOMContentLoaded', initiateES);

    function initiateES() {

        let focusedInputs = document.querySelectorAll(".shopier-es--input");
        let hasMobile = false;
        focusedInputs?.forEach((focusedInput) => {
            focusedInput.addEventListener("focus", (ev) => {

                hasMobile = !!ev?.target.id.includes("-mobile");

                const {desktop, mobile} = elementIds;

                if (hasMobile) {
                    searchForm = document.getElementById(mobile.searchForm);
                    searchInput = document.getElementById(mobile.searchInput);
                    searchBody = document.getElementById(mobile.searchBody);
                    searchResults = document.getElementById(mobile.searchResults);
                    searchButton = document.getElementById(mobile.searchButton);
                } else {
                    searchForm = document.getElementById(desktop.searchForm);
                    searchInput = document.getElementById(desktop.searchInput);
                    searchBody = document.getElementById(desktop.searchBody);
                    searchResults = document.getElementById(desktop.searchResults);
                    searchButton = document.getElementById(desktop.searchButton);
                }

                searchInput?.addEventListener("keyup", function (e) {
                    if (e.key === 'ArrowUp' || e.key === 'ArrowDown') {
                        return;
                    }

                    clearTimeout(debounceTimer);
                    if (searchInput.value === '') {
                        getSearchResults(searchInput)
                    } else {
                        debounceTimer = setTimeout(function () {
                            getSearchResults(searchInput);
                        }, 300);
                    }
                });

                searchInput?.addEventListener("click", function (e) {
                    if (e.target.value === last_query) { // same query, no need to search again
                        createList(last_results);
                    } else { // new query, search
                        getSearchResults(e.target);
                    }
                });

                document.addEventListener("click", function (e) {
                    // if the target of the click isn't the container nor a descendant of the container
                    if (!searchBody?.contains(e.target) && !searchBody?.isSameNode(e.target) && !searchInput.contains(event.target)) {
                        searchBody.classList.remove("showing-results");
                        searchBody.style.display = "none";
                        searchInput?.classList.remove("showing-results");
                        searchBody.classList.remove('show');
                    }
                });

                searchButton?.addEventListener("click", function () {
                    if (sessionStorage.getItem("searchParams") !== null) {
                        searchInput.value = sessionStorage.getItem("searchParams");
                        createList(searchInput.value);
                    }
                });
            });
        });



        function getSearchResults(input) {
            const search_value = input.value;
            if (search_value.length >= 3) {
                const xhr = new XMLHttpRequest();
                xhr.open('POST', endpoint, true);
                xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');
                xhr.responseType = 'json';
                xhr.onreadystatechange = function () {
                    if (parseInt(xhr.readyState) === 4 && parseInt(xhr.status) === 200) {
                        let json = xhr.response;
                        createList(json);
                        last_query = search_value;
                    }
                };
                xhr.send('search_query=' + search_value + '&username=' + searchShopName + '&search_as_you_type=true&highlight=');
            } else {
                searchBody.style.display = "none";
                searchBody.classList.remove("showing-results");
                searchBody.classList.remove("show");
            }
        }

        function createList(json) {
            if (typeof (json) === 'string' && json) {
                json = JSON.parse(json);
            }

            if (!json) {
                return;
            }

            if (json.status === false || typeof (json) !== 'object') {
                return;
            }

            last_results = json;
            const shingles = json.suggestions.shingles;
            const categories = json.suggestions.categories;
            const products = json.hits;

            if (json.nHits === 0 && shingles.length === 0 && categories.length === 0 && products.length === 0) {
                return;
            }

            searchResults.innerHTML = "";
            const suggestionClicked = false;
            if (suggestionClicked === false) {
                shingles.forEach(function (shingle) {
                    const shingle_li = createListElementForSearch(shingle, "&#8203;", function () {
                        searchInput.value = shingle.replace(/<\/?[^>]+(>|$)/g, "");
                        if (!hasMobile) {
                            let urlCategoryControl = window.location.href.split('#')[1];
                            store.checkboxes = [];
                            store.search_value = searchInput.value;
                            resetCategoryCheckboxes();
                            setDotVisibility(false, '.filter-dot .input-filter-dot');
                            fetchActiveCheckboxes(store, '', 'store');
                            disableApplyBtn('apply-filter', 'clear-all-filter');
                            if (urlCategoryControl) {
                                //kategori varsa sendfilterinfo sıfırlanacak
                                setTimeout(() => {
                                    sendFilterInfo(store, '', 'store');
                                }, 1);
                            } else {
                                // kategori yoksa searchprocess çalışcak
                                searchprocess(store.default_product_count, 'shopier-es--input', store, '', 'store');
                            }
                                                        searchForm.submit();
                                                    }else{
                            canvas.search_value = searchInput.value;
                            searchprocess(canvas.default_product_count, 'shopier-es--input-mobile', canvas, '-canvas', 'canvas');
                        }
                        searchBody.style.display = "none";
                        searchBody.classList.remove("showing-results");
                        searchBody.classList.remove("show");
                    });
                    if (shingle_li !== null && shingle_li !== undefined){
                        searchResults.appendChild(shingle_li);
                    }
                });

                categories.forEach(function (category) {
                    let category_name = category.suggestion;
                    let clean_category_name = category.clean_name;

                    const category_li = createListElementForSearch(category_name, "Kategori", function () {
                        if (!hasMobile){
                            store.search_value = ''
                            updateStorageField('store.search_value', '');
                                                        window.location.href = "https://www.shopier.com/" + searchShopName + "#" + encodeURIComponent(clean_category_name);
                                                    } else{
                            const modifiedCategoryId = 'cat_' + category.category_id;
                            canvas.search_value = '';
                            canvas.checkboxes = [];
                            canvas.checkboxes.push(modifiedCategoryId);
                            setTimeout("sendFilterInfo(canvas, '-canvas', 'canvas')", 1);
                            setDotVisibility(true, '.filter-dot-canvas .input-filter-dot-canvas');
                            resetCategoryCheckboxes('-canvas');
                            fetchActiveCheckboxes(canvas, '-canvas', 'canvas');
                        }
                        searchBody.style.display = "none";
                        searchBody.classList.remove("showing-results");
                        searchBody.classList.remove("show");
                    });
                    searchResults.appendChild(category_li);
                });

            }

            products.forEach(function (product) {
                if (product.subject.length > 0) {
                    const product_li = createListElementForSearch(product.subject, "Ürün", function () {
                        const search_query = searchInput.value;
                        let xhr = new XMLHttpRequest();
                        xhr.open('POST', endpoint, false);
                        xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');
                        xhr.send('click=1&username=' + searchShopName + '&search_query=' + search_query + '&product_id=' + product.product_id);
                        window.location.href = "https://www.shopier.com/" + product.product_id;
                    });

                    searchResults.appendChild(product_li);
                }
            });
            searchBody.style.display = "block";
            searchBody.classList.add("showing-results");
            searchBody.classList.add('show');
        }
        function normalizeTurkishChars(text) {
            const doc = new DOMParser().parseFromString(text, 'text/html');
            text = doc.body.textContent || "";
            const charMap = {
                'ç': 'c', 'Ç': 'C',
                'ğ': 'g', 'Ğ': 'G',
                'ı': 'i', 'I': 'I',
                'İ': 'i', 'ş': 's',
                'Ş': 'S', 'ö': 'o',
                'Ö': 'O', 'ü': 'u',
                'Ü': 'U',
                "'": "'",
            };
            return text.replace(/[çÇğĞıİşŞöÖüÜ']/g, function(match) {
                return charMap[match] || match;
            });
        }


        function cleanText(text) {
            return text.replace(/[^\w\s&'"-]/g, '').replace(/\s+/g, '').trim();
        }

        function createListElementForSearch(elementText, type = null, onClickFunction) {
            const input = searchInput.value;
            const searchTerm = normalizeTurkishChars(input.trim().toLowerCase());
            const searchTerm2 = cleanText(searchTerm);
            const normalizedElementText = normalizeTurkishChars(elementText.trim().toLowerCase());
            const normalizedElementText2 = cleanText(normalizedElementText);
            let highlightedText = elementText;
            if (normalizedElementText2.includes(searchTerm2) && searchTerm2 !== "") {
                let startIndex = normalizedElementText.indexOf(searchTerm);
                let endIndex = startIndex + searchTerm.length;

                if (startIndex !== -1) {
                    highlightedText = highlightedText.substring(0, startIndex) +
                        `<span class="search-match">${highlightedText.substring(startIndex, endIndex)}</span>` +
                        highlightedText.substring(endIndex);
                }
            }
            if (highlightedText !== ''){
                const li = document.createElement("li");
                const searchItem = document.createElement('div');
                const searchLink = document.createElement('a');

                li.classList.add("shopier-es--result");
                li.addEventListener("click", onClickFunction);

                searchLink.classList.add('dropdown-item');
                searchItem.classList.add('search-item');

                li.appendChild(searchLink);
                searchLink.appendChild(searchItem);

                const textSpan = document.createElement("div");
                textSpan.innerHTML = highlightedText;
                textSpan.classList.add("shopier-es--result-name", "search-term");

                let typeSpan;
                if (type) {
                    typeSpan = document.createElement("div");
                    typeSpan.innerHTML = type;
                    typeSpan.classList.add("shopier-es--result-category", "search-category");
                }

                searchItem.appendChild(textSpan);
                if (type && typeSpan !== undefined) {
                    searchItem.appendChild(typeSpan);
                }
                return li;
            }
        }
    }
</script><div class="offcanvas offcanvas-end action-sheet js-popup-inputs" tabindex="-1" id="search-canvas" aria-labelledby="search-canvas">
    <div class="offcanvas-body">
        <div class="search-page">
            <div class="container-store search-sticky">
                <div class="search-page-head">
                    <div class="title block lg:hidden">Ara</div>
                    <div class="input-search-wrapper js-input-search-wrapper">
                        <div class="search-backdrop"></div>
                        <div class="input-search  with-filter">
                            <button class="input-back-btn block lg:hidden" type="button" data-bs-dismiss="offcanvas">
                                <svg width="24" height="24" viewbox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M15.0003 20.67C14.8103 20.67 14.6203 20.6 14.4703 20.45L7.95027 13.93C6.89027 12.87 6.89027 11.13 7.95027 10.07L14.4703 3.55002C14.7603 3.26002 15.2403 3.26002 15.5303 3.55002C15.8203 3.84002 15.8203 4.32002 15.5303 4.61002L9.01027 11.13C8.53027 11.61 8.53027 12.39 9.01027 12.87L15.5303 19.39C15.8203 19.68 15.8203 20.16 15.5303 20.45C15.3803 20.59 15.1903 20.67 15.0003 20.67Z" fill="currentColor"></path>
                                </svg>
                            </button>
                            <button class="input-back-btn hidden lg:block" type="button">
                                <svg width="24" height="24" viewbox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M15.0003 20.67C14.8103 20.67 14.6203 20.6 14.4703 20.45L7.95027 13.93C6.89027 12.87 6.89027 11.13 7.95027 10.07L14.4703 3.55002C14.7603 3.26002 15.2403 3.26002 15.5303 3.55002C15.8203 3.84002 15.8203 4.32002 15.5303 4.61002L9.01027 11.13C8.53027 11.61 8.53027 12.39 9.01027 12.87L15.5303 19.39C15.8203 19.68 15.8203 20.16 15.5303 20.45C15.3803 20.59 15.1903 20.67 15.0003 20.67Z" fill="currentColor"></path>
                                </svg>
                            </button>
                            <div class="dropdown input-box-wrapper">
                                <button class="dropdown-toggle" type="button" data-bs-toggle="dropdown"></button>
                                <form class="input-box shopier-es—form-mobile searchForm" id="shopier-es--form-mobile" method="post" autocomplete="off">
                                    <input class="js-input-search shopier-es--input shopier-es--input-canvas" id="shopier-es--input-mobile" type="text" name="search" placeholder=" " autocomplete="off">
                                    <div class="input-search-icon" id="shopier-es--button-mobile">
                                        <svg width="24" height="24" viewbox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M11.5 21C16.7467 21 21 16.7467 21 11.5C21 6.25329 16.7467 2 11.5 2C6.25329 2 2 6.25329 2 11.5C2 16.7467 6.25329 21 11.5 21Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                                            <path d="M22 22L20 20" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                                        </svg>
                                    </div>
                                    <button class="input-clear-btn" type="reset">
                                        <svg width="24" height="24" viewbox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M18 34.125C9.105 34.125 1.875 26.895 1.875 18C1.875 9.105 9.105 1.875 18 1.875C26.895 1.875 34.125 9.105 34.125 18C34.125 26.895 26.895 34.125 18 34.125ZM18 4.125C10.35 4.125 4.125 10.35 4.125 18C4.125 25.65 10.35 31.875 18 31.875C25.65 31.875 31.875 25.65 31.875 18C31.875 10.35 25.65 4.125 18 4.125Z" fill="#2F3352"></path>
                                            <path d="M13.7541 23.3691C13.4691 23.3691 13.1841 23.2641 12.9591 23.0391C12.5241 22.6041 12.5241 21.8841 12.9591 21.4491L21.4491 12.9591C21.8841 12.5241 22.6041 12.5241 23.0391 12.9591C23.4741 13.3941 23.4741 14.1141 23.0391 14.5491L14.5491 23.0391C14.3391 23.2641 14.0391 23.3691 13.7541 23.3691Z" fill="#2F3352"></path>
                                            <path d="M22.2441 23.3691C21.9591 23.3691 21.6741 23.2641 21.4491 23.0391L12.9591 14.5491C12.5241 14.1141 12.5241 13.3941 12.9591 12.9591C13.3941 12.5241 14.1141 12.5241 14.5491 12.9591L23.0391 21.4491C23.4741 21.8841 23.4741 22.6041 23.0391 23.0391C22.8141 23.2641 22.5291 23.3691 22.2441 23.3691Z" fill="#2F3352"></path>
                                        </svg>
                                    </button>
                                    <div class="dropdown-menu top-full rounded-tr-none" id="shopier-es--body-mobile" style="display: none">
                                        <ul class="js-input-search-results term-results" id="shopier-es--results-mobile"></ul>
                                    </div>
                                </form>
                                                            </div>
                        </div>
                    </div>
                    <div class="search-categories categories-canvas">
                        <div class="swiper js-search-categories tab-swiper-canvas">
                            <div class="swiper-wrapper">
                                <div class="swiper-slide">
                                    <label class="search-category tab-item-canvas tab-category-filter-canvas tab-all-products">
                                        <div class="tab-link-canvas tab-default-canvas tab-name-canvas active" data-id="cat_all">Tümü</div>
                                    </label>
                                </div>
                                                                    <div class="swiper-slide">
                                        <label class="search-category tab-item-canvas tab-category-filter-canvas">
                                            <div class="tab-link-canvas tab-name-canvas" data-id="cat_328256">GÖMLEK</div>
                                        </label>
                                    </div>
                                                                    <div class="swiper-slide">
                                        <label class="search-category tab-item-canvas tab-category-filter-canvas">
                                            <div class="tab-link-canvas tab-name-canvas" data-id="cat_328257">T-SHİRT</div>
                                        </label>
                                    </div>
                                                                    <div class="swiper-slide">
                                        <label class="search-category tab-item-canvas tab-category-filter-canvas">
                                            <div class="tab-link-canvas tab-name-canvas" data-id="cat_328258">KOT PANTOLON</div>
                                        </label>
                                    </div>
                                                                    <div class="swiper-slide">
                                        <label class="search-category tab-item-canvas tab-category-filter-canvas">
                                            <div class="tab-link-canvas tab-name-canvas" data-id="cat_328260">MONT</div>
                                        </label>
                                    </div>
                                                                    <div class="swiper-slide">
                                        <label class="search-category tab-item-canvas tab-category-filter-canvas">
                                            <div class="tab-link-canvas tab-name-canvas" data-id="cat_976841">KAZAK</div>
                                        </label>
                                    </div>
                                                                    <div class="swiper-slide">
                                        <label class="search-category tab-item-canvas tab-category-filter-canvas">
                                            <div class="tab-link-canvas tab-name-canvas" data-id="cat_976842">EŞOFMAN</div>
                                        </label>
                                    </div>
                                                                    <div class="swiper-slide">
                                        <label class="search-category tab-item-canvas tab-category-filter-canvas">
                                            <div class="tab-link-canvas tab-name-canvas" data-id="cat_976843">SWEATSHİRT</div>
                                        </label>
                                    </div>
                                                                    <div class="swiper-slide">
                                        <label class="search-category tab-item-canvas tab-category-filter-canvas">
                                            <div class="tab-link-canvas tab-name-canvas" data-id="cat_1348604">Yarım Fermuarlı</div>
                                        </label>
                                    </div>
                                                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="shopier--search-empty-section-canvas" class="container-store products-empty !hidden">
                <div class="js-search-empty search-empty">
                    <div class="search-empty-message">Bu arama için sonuç bulunmuyor.</div>
                </div>
            </div>
            <div class="container-store canvas-filter-box">
                <div class="js-search-results search-results">
                    <span class="store-filter-result filter-store-canvas flex items-center">
                        <div class="search-length" id="products-count_box-canvas"><span id="products-count-canvas"></span></div>
                        <button class="block lg:hidden !hidden clear-filter-trigger-canvas store-filter-clear-button" type="button" id="clear-canvas-trigger"><svg width="36" height="36" viewbox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M18 34.125C9.105 34.125 1.875 26.895 1.875 18C1.875 9.105 9.105 1.875 18 1.875C26.895 1.875 34.125 9.105 34.125 18C34.125 26.895 26.895 34.125 18 34.125ZM18 4.125C10.35 4.125 4.125 10.35 4.125 18C4.125 25.65 10.35 31.875 18 31.875C25.65 31.875 31.875 25.65 31.875 18C31.875 10.35 25.65 4.125 18 4.125Z" fill="#2F3352"></path>
                                <path d="M13.7541 23.3691C13.4691 23.3691 13.1841 23.2641 12.9591 23.0391C12.5241 22.6041 12.5241 21.8841 12.9591 21.4491L21.4491 12.9591C21.8841 12.5241 22.6041 12.5241 23.0391 12.9591C23.4741 13.3941 23.4741 14.1141 23.0391 14.5491L14.5491 23.0391C14.3391 23.2641 14.0391 23.3691 13.7541 23.3691Z" fill="#2F3352"></path>
                                <path d="M22.2441 23.3691C21.9591 23.3691 21.6741 23.2641 21.4491 23.0391L12.9591 14.5491C12.5241 14.1141 12.5241 13.3941 12.9591 12.9591C13.3941 12.5241 14.1141 12.5241 14.5491 12.9591L23.0391 21.4491C23.4741 21.8841 23.4741 22.6041 23.0391 23.0391C22.8141 23.2641 22.5291 23.3691 22.2441 23.3691Z" fill="#2F3352"></path>
                            </svg></button>
                    </span>
                    <div class="product-card shopier--product-card-canvas !hidden" id="shopier--product-card-template-canvas">
                        <a href="" role="link" class="product-card__link">
                            <div class="product-card-header">
                                <div class="product-card-image-container product-card__image-container">
                                    <picture>
                                        <img src="" width="226" height="226" srcset="" alt="" title="" class="w-full product-card__image-thumbnail">
                                    </picture>
                                    <div class="product-card-no-stock !hidden">
                                        <div class="badge-no-stock"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="product-card-body">
                                <div class="product-card-badges right-badges product-card-badges-canvas">
                                    <div class="flex gap-x-1 items-start auto-badge !hidden">
                                        <svg class="purple-discount-badge mt-[-3px] !hidden" width="26" height="26" viewbox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M6.71404 20.5743L6.71363 20.5739L2.775 16.2628L2.7744 16.2621C1.07567 14.4093 1.07442 11.6132 2.77531 9.74802L6.71363 5.43725L6.71364 5.43725L6.71544 5.43525C7.8252 4.20733 9.41962 3.5 11.0865 3.5H18.5844C20.7275 3.5 22.1758 3.98639 23.0951 4.90273C24.014 5.81872 24.5 7.25983 24.5 9.38889V16.6111C24.5 18.7402 24.014 20.1813 23.0951 21.0973C22.1758 22.0136 20.7275 22.5 18.5844 22.5H11.0865C9.41937 22.5 7.82417 21.7924 6.71404 20.5743Z" fill="white" fill-opacity="0.72" stroke="#0B0F34"></path>
                                            <path d="M8.73388 14.5609C7.87837 13.7059 7.878 12.2934 8.73307 11.4379C9.58815 10.5824 11.0006 10.582 11.8561 11.4371C12.7116 12.2921 12.712 13.7046 11.8569 14.5601C11.0019 15.4156 9.5894 15.416 8.73388 14.5609Z" stroke="#0B0F34"></path>
                                        </svg>
                                        <span class="badge-only-number badge-discount discount-rate !hidden"></span>
                                    </div>
                                    <span class="badge item-filter__badge"></span>
                                </div>
                                <div class="product-card-title">
                                    <h3 class="product-card__title"></h3>
                                </div>
                                <div class="product-card-price discount-container !hidden">
                                    <div class="price price-current price-new">
                                        <span class="price-value"></span>
                                        <span class="price-cent"></span>
                                        <span class="price-currency"></span>
                                    </div>
                                    <div class="price price-old">
                                        <span class="price-value"></span>
                                        <span class="price-cent"></span>
                                        <span class="price-currency"></span>
                                    </div>
                                </div>
                                <div class="product-card-price price-container !hidden">
                                    <div class="price price-current">
                                        <span class="price-value"></span>
                                        <span class="price-cent"></span>
                                        <span class="price-currency"></span>
                                    </div>
                                </div>
                            </div>
                        </a></div>
                    <div class="product-grid products-list-canvas" id="shopier--product-list-section"></div>
                    <div class="flex justify-center !hidden animation-canvas">
                        <div id="lottie-animation-canvas" style="width: 120px; height: 120px;"></div>
                    </div>
                </div>
                <div class="offcanvas offcanvas-bottom action-sheet action-sheet-multipos" tabindex="-1" id="search-filter-canvas" aria-labelledby="search-filter-canvasLabel">
                    <div class="offcanvas-header px-[1.375rem]">
                        <button type="button" data-bs-dismiss="offcanvas" aria-label="Close">
                            <svg class="hidden lg:block" width="24" height="24" viewbox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M18 34.125C9.105 34.125 1.875 26.895 1.875 18C1.875 9.105 9.105 1.875 18 1.875C26.895 1.875 34.125 9.105 34.125 18C34.125 26.895 26.895 34.125 18 34.125ZM18 4.125C10.35 4.125 4.125 10.35 4.125 18C4.125 25.65 10.35 31.875 18 31.875C25.65 31.875 31.875 25.65 31.875 18C31.875 10.35 25.65 4.125 18 4.125Z" fill="#2F3352"></path>
                                <path d="M13.7541 23.3691C13.4691 23.3691 13.1841 23.2641 12.9591 23.0391C12.5241 22.6041 12.5241 21.8841 12.9591 21.4491L21.4491 12.9591C21.8841 12.5241 22.6041 12.5241 23.0391 12.9591C23.4741 13.3941 23.4741 14.1141 23.0391 14.5491L14.5491 23.0391C14.3391 23.2641 14.0391 23.3691 13.7541 23.3691Z" fill="#2F3352"></path>
                                <path d="M22.2441 23.3691C21.9591 23.3691 21.6741 23.2641 21.4491 23.0391L12.9591 14.5491C12.5241 14.1141 12.5241 13.3941 12.9591 12.9591C13.3941 12.5241 14.1141 12.5241 14.5491 12.9591L23.0391 21.4491C23.4741 21.8841 23.4741 22.6041 23.0391 23.0391C22.8141 23.2641 22.5291 23.3691 22.2441 23.3691Z" fill="#2F3352"></path>
                            </svg>
                        </button>
                        <div class="action-sheet-swipe-btn block lg:hidden"></div>
                    </div>
                    <div class="offcanvas-body js-action-sheet-filter-body">
                        <div class="font-semibold action-sheet-title">Filtrele</div>
                        <div class="action-sheet-desc store-filter-action-sheet">
                                                            <div class="js-input-chips-expandable input-chips-expandable custom-expandable-chips-canvas">
                                    <div class="input-chips-title js-chips-title">Kategori</div>
                                    <div class="input-chips-list js-input-chips-list-expandable custom-expandable-chips-list-canvas">
                                                                                    <!-- input-chip-small class alabilir-->
                                            <div class="filter-widget__item-canvas">
                                                <label class="input-chip js-input-chip shopier--filtering-checkbox-label label-canvas" data-id="mb_cat_328256" data-value="gömlek">
                                                    <input type="checkbox" value="" class="shopier--filtering-checkbox-canvas category-checkbox-canvas" id="cat_328256-canvas" name="gömlek">
                                                    <label for="cat_328256-canvas" class="input-chip-title">
                                                        GÖMLEK
                                                    </label>
                                                </label>
                                            </div>
                                                                                    <!-- input-chip-small class alabilir-->
                                            <div class="filter-widget__item-canvas">
                                                <label class="input-chip js-input-chip shopier--filtering-checkbox-label label-canvas" data-id="mb_cat_328257" data-value="t-shi̇rt">
                                                    <input type="checkbox" value="" class="shopier--filtering-checkbox-canvas category-checkbox-canvas" id="cat_328257-canvas" name="t-shi̇rt">
                                                    <label for="cat_328257-canvas" class="input-chip-title">
                                                        T-SHİRT
                                                    </label>
                                                </label>
                                            </div>
                                                                                    <!-- input-chip-small class alabilir-->
                                            <div class="filter-widget__item-canvas">
                                                <label class="input-chip js-input-chip shopier--filtering-checkbox-label label-canvas" data-id="mb_cat_328258" data-value="kot pantolon">
                                                    <input type="checkbox" value="" class="shopier--filtering-checkbox-canvas category-checkbox-canvas" id="cat_328258-canvas" name="kot pantolon">
                                                    <label for="cat_328258-canvas" class="input-chip-title">
                                                        KOT PANTOLON
                                                    </label>
                                                </label>
                                            </div>
                                                                                    <!-- input-chip-small class alabilir-->
                                            <div class="filter-widget__item-canvas">
                                                <label class="input-chip js-input-chip shopier--filtering-checkbox-label label-canvas" data-id="mb_cat_328260" data-value="mont">
                                                    <input type="checkbox" value="" class="shopier--filtering-checkbox-canvas category-checkbox-canvas" id="cat_328260-canvas" name="mont">
                                                    <label for="cat_328260-canvas" class="input-chip-title">
                                                        MONT
                                                    </label>
                                                </label>
                                            </div>
                                                                                    <!-- input-chip-small class alabilir-->
                                            <div class="filter-widget__item-canvas">
                                                <label class="input-chip js-input-chip shopier--filtering-checkbox-label label-canvas" data-id="mb_cat_976841" data-value="kazak">
                                                    <input type="checkbox" value="" class="shopier--filtering-checkbox-canvas category-checkbox-canvas" id="cat_976841-canvas" name="kazak">
                                                    <label for="cat_976841-canvas" class="input-chip-title">
                                                        KAZAK
                                                    </label>
                                                </label>
                                            </div>
                                                                                    <!-- input-chip-small class alabilir-->
                                            <div class="filter-widget__item-canvas">
                                                <label class="input-chip js-input-chip shopier--filtering-checkbox-label label-canvas" data-id="mb_cat_976842" data-value="eşofman">
                                                    <input type="checkbox" value="" class="shopier--filtering-checkbox-canvas category-checkbox-canvas" id="cat_976842-canvas" name="eşofman">
                                                    <label for="cat_976842-canvas" class="input-chip-title">
                                                        EŞOFMAN
                                                    </label>
                                                </label>
                                            </div>
                                                                                    <!-- input-chip-small class alabilir-->
                                            <div class="filter-widget__item-canvas">
                                                <label class="input-chip js-input-chip shopier--filtering-checkbox-label label-canvas" data-id="mb_cat_976843" data-value="sweatshi̇rt">
                                                    <input type="checkbox" value="" class="shopier--filtering-checkbox-canvas category-checkbox-canvas" id="cat_976843-canvas" name="sweatshi̇rt">
                                                    <label for="cat_976843-canvas" class="input-chip-title">
                                                        SWEATSHİRT
                                                    </label>
                                                </label>
                                            </div>
                                                                                    <!-- input-chip-small class alabilir-->
                                            <div class="filter-widget__item-canvas">
                                                <label class="input-chip js-input-chip shopier--filtering-checkbox-label label-canvas" data-id="mb_cat_1348604" data-value="yarım fermuarlı">
                                                    <input type="checkbox" value="" class="shopier--filtering-checkbox-canvas category-checkbox-canvas" id="cat_1348604-canvas" name="yarım fermuarlı">
                                                    <label for="cat_1348604-canvas" class="input-chip-title">
                                                        Yarım Fermuarlı
                                                    </label>
                                                </label>
                                            </div>
                                                                            </div>
                                    <div class="input-expand js-input-chips-expand">
                                        <svg width="25" height="25" viewbox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M12.4995 17.2996C11.7995 17.2996 11.0995 17.0296 10.5695 16.4996L4.04953 9.97965C3.75953 9.68965 3.75953 9.20965 4.04953 8.91965C4.33953 8.62965 4.81953 8.62965 5.10953 8.91965L11.6295 15.4396C12.1095 15.9196 12.8895 15.9196 13.3695 15.4396L19.8895 8.91965C20.1795 8.62965 20.6595 8.62965 20.9495 8.91965C21.2395 9.20965 21.2395 9.68965 20.9495 9.97965L14.4295 16.4996C13.8995 17.0296 13.1995 17.2996 12.4995 17.2996Z" fill="#0B0F34"></path>
                                        </svg>
                                    </div>
                                    <div class="input-narrow js-input-chips-narrow">
                                        <svg width="25" height="24" viewbox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M3.83047 15.0904C3.83047 15.2804 3.90047 15.4704 4.05047 15.6204C4.34047 15.9104 4.82047 15.9104 5.11047 15.6204L11.6305 9.10039C12.1105 8.62039 12.8905 8.62039 13.3705 9.10039L19.8905 15.6204C20.1805 15.9104 20.6605 15.9104 20.9505 15.6204C21.2405 15.3304 21.2405 14.8504 20.9505 14.5604L14.4305 8.04039C13.9205 7.53039 13.2305 7.24039 12.5005 7.24039C11.7705 7.24039 11.0805 7.52039 10.5705 8.04039L4.05047 14.5604C3.91047 14.7104 3.83047 14.9004 3.83047 15.0904Z" fill="#0B0F34"></path>
                                        </svg>
                                    </div>
                                </div>
                                                                                                                                            <div class="flex flex-col mt-[-2px] lg:mt-[1px]">
                                <div class="filter-price-title">Fiyat</div>
                                <div class="mt-[15px] input-group price-range price-range--desktop">
                                    <div class="input-text-currency">
                                        <div class="input-box">
                                            <input type="number" placeholder=" " name="min" min="0" value="" class="price-input-max shopier--filtering-checkbox-canvas" id="min-price-canvas">
                                            <div class="input-name">
                                                <span>En düşük</span></div>
                                                                                    </div>
                                    </div>
                                    <div class="input-text-currency">
                                        <div class="input-box">
                                            <input type="number" placeholder=" " value="" class="price-input-max shopier--filtering-checkbox-canvas" type="number" name="max" min="0" id="max-price-canvas">
                                            <div class="input-name">
                                                <span>En yüksek</span></div>
                                                                                    </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="offcanvas-footer">
                        <button class="btn-primary-outline border-none text-16 font-semibold p-2 pb-[14px] clear-all-btn-canvas" id="clear-all-filter-canvas" type="button"><span>Tümünü temizle</span></button>
                        <button class="btn btn-primary w-full" id="apply-filter-canvas" type="button" data-bs-dismiss="offcanvas">
                            <span>Uygula</span></button>
                    </div>
                </div>
                <div class="offcanvas offcanvas-bottom action-sheet action-sheet-multipos" tabindex="-1" id="search-sorting-canvas" aria-labelledby="search-sorting-canvasLabel">
                    <div class="offcanvas-header px-[1.375rem]">
                        <button type="button" data-bs-dismiss="offcanvas" aria-label="Close">
                            <svg class="hidden lg:block" width="24" height="24" viewbox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M18 34.125C9.105 34.125 1.875 26.895 1.875 18C1.875 9.105 9.105 1.875 18 1.875C26.895 1.875 34.125 9.105 34.125 18C34.125 26.895 26.895 34.125 18 34.125ZM18 4.125C10.35 4.125 4.125 10.35 4.125 18C4.125 25.65 10.35 31.875 18 31.875C25.65 31.875 31.875 25.65 31.875 18C31.875 10.35 25.65 4.125 18 4.125Z" fill="#2F3352"></path>
                                <path d="M13.7541 23.3691C13.4691 23.3691 13.1841 23.2641 12.9591 23.0391C12.5241 22.6041 12.5241 21.8841 12.9591 21.4491L21.4491 12.9591C21.8841 12.5241 22.6041 12.5241 23.0391 12.9591C23.4741 13.3941 23.4741 14.1141 23.0391 14.5491L14.5491 23.0391C14.3391 23.2641 14.0391 23.3691 13.7541 23.3691Z" fill="#2F3352"></path>
                                <path d="M22.2441 23.3691C21.9591 23.3691 21.6741 23.2641 21.4491 23.0391L12.9591 14.5491C12.5241 14.1141 12.5241 13.3941 12.9591 12.9591C13.3941 12.5241 14.1141 12.5241 14.5491 12.9591L23.0391 21.4491C23.4741 21.8841 23.4741 22.6041 23.0391 23.0391C22.8141 23.2641 22.5291 23.3691 22.2441 23.3691Z" fill="#2F3352"></path>
                            </svg>
                        </button>
                        <div class="action-sheet-swipe-btn block lg:hidden"></div>
                    </div>
                    <div class="offcanvas-body js-action-sheet-filter-body">
                        <div class="font-semibold action-sheet-title">Sırala</div>
                        <div class="action-sheet-desc flex flex-col gap-y-[5px]">
                            <div class="filter-widget__item-canvas shopier--sorting-canvas">
                                <label class="input-radio">
                                    <div class="input-body">
                                        <div class="input-name"> Fiyat, artan</div>
                                    </div>
                                    <input class="sorting shopier--sorting-price-date-radio-canvas" type="radio" name="sort-input-canvas" id="price-low-canvas">
                                </label>
                            </div>
                            <div class="filter-widget__item-canvas shopier--sorting-canvas">
                                <label class="input-radio">
                                    <div class="input-body">
                                        <div class="input-name">Fiyat, azalan</div>
                                    </div>
                                    <input class="sorting shopier--sorting-price-date-radio-canvas" type="radio" name="sort-input-canvas" id="price-high-canvas">
                                </label>
                            </div>
                            <div class="filter-widget__item-canvas shopier--sorting-canvas">
                                <label class="input-radio">
                                    <div class="input-body">
                                        <div class="input-name"> Listeleme tarihi, artan</div>
                                    </div>
                                    <input type="radio" class="sorting shopier--sorting-price-date-radio-canvas" name="sort-input-canvas" id="date-newer-canvas">
                                </label>
                            </div>
                            <div class="filter-widget__item-canvas w-100 shopier--sorting-canvas">
                                <label class="input-radio">
                                    <div class="input-body">
                                        <div class="input-name"> Listeleme tarihi, azalan</div>
                                    </div>
                                    <input class="sorting shopier--sorting-price-date-radio-canvas" type="radio" name="sort-input-canvas" id="date-older-canvas">
                                </label>
                            </div>
                        </div>
                    </div>
                    <div class="offcanvas-footer">
                        <button class="btn-primary-outline border-none text-16 font-semibold p-2 pb-[14px] clear-all-btn-canvas" id="clear-all-sorting-canvas" type="button"><span>Tümünü temizle</span>
                        </button>
                        <button class="btn btn-primary w-full" id="apply-sorting-canvas" data-bs-dismiss="offcanvas" aria-label='Close' type="button">
                            <span>Uygula</span></button>
                    </div>
                </div>
                <div class="offcanvas offcanvas-bottom action-sheet confirmation-sheet" tabindex="-1" id="canvas-clear-canvas" aria-labelledby="canvas-clearLabel">
                    <div class="offcanvas-header">
                        <button class="hidden" type="button" data-bs-dismiss="offcanvas" aria-label="Close"></button>
                        <div class="action-sheet-swipe-btn"></div>
                    </div>
                    <div class="offcanvas-body">
                        <div class="action-sheet-title">Emin misiniz?</div>
                        <div class="text-center action-sheet-desc">Filtreleme kriterleri temizlenecek.</div>
                    </div>
                    <div class="offcanvas-footer">
                        <button class="btn btn-primary w-full" id="clear-sorting-button-canvas" type="button" data-bs-dismiss="offcanvas"><span>Onayla</span></button>
                        <button class="btn btn-primary-outline w-full" type="button" data-bs-dismiss="offcanvas">
                            <span>Vazgeç</span></button>
                    </div>
                </div>
            </div>
        </div>
        <div class="offcanvas-filter-footer footer-canvas" style="height: 40px;"></div>
    </div>
</div>
<script>
    window.scrollTo(0, 0);
    window.history.scrollRestoration = "manual";

    function disableApplyBtn(applyBtn, clearBtn) {
        document.getElementById(applyBtn)?.setAttribute('disabled', 'true');
        document.getElementById(clearBtn)?.setAttribute('disabled', 'true');
    }

    function enableApplyBtn(applyBtn, clearBtn) {
        document.getElementById(applyBtn)?.removeAttribute('disabled');
        document.getElementById(clearBtn)?.removeAttribute('disabled');
    }

    function hideFilterView() {
        document.querySelector('.products-list-canvas').classList.add('!hidden');
        document.querySelector('.filter-store-canvas').classList.add('!hidden');
    }

    function showFilterView() {
        document.querySelector('.products-list-canvas').classList.remove('!hidden');
        document.querySelector('.filter-store-canvas').classList.remove('!hidden');
    }

    let inactivityTimeout;

    function resetInactivityTimer() {
        if (inactivityTimeout) {
            clearTimeout(inactivityTimeout);
        }

        inactivityTimeout = setTimeout(() => {
            onInactivity();
        }, 180000);
    }

    function onInactivity() {
        if ((canvas.filter || canvas.sort) || canvas.search_value) {
            document.querySelector('#shopier-es--input-mobile').value = '';
            clearCanvasSorting();
            hideFilterView();
            setDotVisibility(false, '.filter-dot-canvas .input-filter-dot-canvas');
            setDotVisibility(false, '.sorting-dot-canvas .input-filter-dot-canvas');
        }
    }


    function updateStorageField(fieldPath, newValue, isCallBack = true) {
        /* Get storage object */
        const storageData = JSON.parse(sessionStorage.getItem("ButikBora")) || {};

        let fieldParts = fieldPath.split('.');
        let target = storageData;
        /* To reach our fieldPath location in storage object */
        for (let i = 0; i < fieldParts.length - 1; i++) {
            const part = fieldParts[i];
            target = target[part] = target[part] || {};
        }

        /*If the value already exist, return function*/
        const lastField = fieldParts[fieldParts.length - 1];
        if ((fieldPath === 'canvas.checkboxes' || fieldPath === 'store.checkboxes') && Array.isArray(target[lastField])) {
            target[lastField] = [];
            // To make a unique array
            target[lastField] = Array.from(new Set([...target[lastField], ...newValue]));
        } else {
            target[lastField] = newValue;
        }
        sessionStorage.setItem("ButikBora", JSON.stringify(storageData));
        if (fieldPath.startsWith('canvas') && isCallBack) {
            resetInactivityTimer();
        }
    }

    updateStorageField('canvas.default_product_count', 24, false)
    updateStorageField('store.default_product_count', 24, false)
    let storageData = JSON.parse(sessionStorage.getItem("ButikBora")) || {};
    let filterValues = storageData || {};


    filterValues = {
        store: {
            checkboxes: [],
            min_price: "",
            max_price: "",
            datesort: -1,
            pricesort: -1,
            sort: 0,
            filter: 0,
            search_value: null,
            currentPictureCountForCategory: 0,
            tmpProductCategoryID: -1,
            searchWord2: '',
            pageCount: 1,
            fakeClick: 1,
            category: '',
            pageCategory: '',
            stored_product_id: '',
            productClientHeight: 0,
            current_product_count: 0,
            disableLoadMore: false,
            default_product_count: 24,
            isShowLoader: false,
            isFilterDefault: true,
            lastActiveTabCategory: [],
            /* If these values already set on object it will be updated with old values */
            ...filterValues.store,
        },
        canvas: {
            checkboxes: [],
            min_price: "",
            max_price: "",
            datesort: -1,
            pricesort: -1,
            sort: 0,
            filter: 0,
            search_value: null,
            currentPictureCountForCategory: 0,
            tmpProductCategoryID: -1,
            searchWord2: '',
            pageCount: 1,
            fakeClick: 1,
            category: '',
            pageCategory: '',
            stored_product_id: '',
            current_product_count: 0,
            disableLoadMore: false,
            isShowLoader: false,
            default_product_count: 24,
            isFilterDefault: true,
            lastActiveTabCategory: [],
            ...filterValues.canvas,
        }
    };

    storageData.canvas = filterValues.canvas;

    const {store, canvas} = filterValues;


    if (storageData?.store?.stored_product_id && storageData?.store?.pageCount > 1) {
        const products = document.getElementById('shopier--product-list-section');
        products.querySelectorAll('.shopier--product-card').forEach(item => {
            item.remove()
        })
    }

    if (!storageData?.store?.stored_product_id) {
        window.scrollTo(0, 0)
    } else if (storageData?.store?.stored_product_id && (!storageData?.store?.pageCount || storageData?.store?.pageCount === 1)) {
        getBackItem()
    }

    $(document).on('click', '.product-image-link-store', function () {
        let productId = $(this).attr('data-back-id');
        updateStorageField('store.stored_product_id', productId, false);
        let elm = $(`[data-back-id="${productId}"]`);
        updateStorageField('store.productClientHeight', elm[0]?.getBoundingClientRect().top, false);
    });


    function getBackItem() {
        const storedProductId = store.stored_product_id;
        const productClientHeight = store.productClientHeight;
        let elm = $(`[data-back-id="${storedProductId}"]`);
        let elmPosition = $(elm).offset()?.top - productClientHeight;
        if (elmPosition && storedProductId) {
            window.scrollTo({top: elmPosition, behavior: 'instant'})
        }
    }

    if (store.category === "")
        store.pageCategory = (window.location + '').split('#')[1];
    else
        store.pageCategory = store.category;

    if (canvas.searchWord2 === undefined) {
        canvas.searchWord2 = "";
    }
    if (store.searchWord2 === undefined) {
        store.searchWord2 = "";
    }

    canvas.current_product_count = Number(Number(canvas.pageCount)) * parseInt(canvas.default_product_count);
    store.current_product_count = Number(Number(store.pageCount)) * parseInt(store.default_product_count);
    updateStorageField('canvas.current_product_count', canvas.current_product_count, false);
    updateStorageField('store.current_product_count', store.current_product_count, false);


    function fetchFilterPrice(sectionType, selector) {
        if (sectionType.min_price !== "") {
            $(`#min-price${selector}`).val(sectionType.min_price);
        }

        if (sectionType.max_price !== "") {
            $(`#max-price${selector}`).val(sectionType.max_price);
        }
    }

    function fetchActiveCheckboxes(sectionType, selector, sectionName = 'store') {
        if (sectionType.checkboxes !== null) {
            updateStorageField(`${sectionName}.checkboxes`, sectionType.checkboxes, false);
            activeCheckBoxesTemp = sectionType.checkboxes;
            if (activeCheckBoxesTemp.length) {
                activeCheckBoxesTemp.forEach(item => {
                    if (item == "undefined") return;
                    if (item === "stock") {
                        document.getElementById(`stc${selector}`).checked = true;
                    } else if (item === "discount") {
                        document.getElementById(`discount${selector}`).checked = true;
                    } else if (item === "bestProducts") {
                        document.getElementById(`bestProducts${selector}`).checked = true;
                    } else if (item === "otoDiscount") {
                        document.getElementById(`adv-campaign${selector}`).checked = true;
                    } else if (item.substr(0, 4) === "cat_") {
                        document.getElementById(item + selector).checked = true;
                    } else
                        document.getElementById(`var_` + item + selector).checked = true;

                })
            }

        }
    }

    function fetchActiveRadio(sectionType, selector) {
        if (sectionType.sort !== 0) {
            if (sectionType.datesort !== -1) {
                if (sectionType.datesort === 1) {
                    document.getElementById(`date-newer${selector}`).checked = true;
                } else {
                    document.getElementById(`date-older${selector}`).checked = true;
                }
            }
            if (sectionType.pricesort !== -1) {
                if (sectionType.pricesort === 1) {
                    document.getElementById(`price-low${selector}`).checked = true;
                } else {
                    document.getElementById(`price-high${selector}`).checked = true;
                }
            }
        }
    }


    /* filter response callback functions */

    function setCanvasProductImage(item, newProduct) {
        newProduct.querySelector('.product-card__image-thumbnail').src = "https://cdn.shopier.app/pictures_mid/" + item.primary_image;
        newProduct.querySelector('.product-card__image-thumbnail').srcset = "https://cdn.shopier.app/pictures_large/" + item.primary_image;
        newProduct.querySelector('.product-card__image-thumbnail').alt = item.name;
        newProduct.querySelector('.product-card__image-thumbnail').title = item.name;
    }

    function setBadges(item, newProduct) {
        const productCardBadges = newProduct.querySelector('.product-card-badges')
        const labelArray = item.labels
        const allLabelsDisabled = Object.values(labelArray).every(label => !label.enabled)
        if ((allLabelsDisabled || item.labels.out_of_stock.enabled) && !item.is_discounted) {
            productCardBadges?.classList.add('!hidden');
        } else {
            productCardBadges?.classList.remove('!hidden');
            setProductDiscountContainer(item, newProduct);
        }
        /* For out of stock case */
        setProductLabel(item, newProduct);
    }

    function setProductLabel(item, newProduct) {
        let productCardBadgeEl = newProduct.querySelector('.item-filter__badge');
        productCardBadgeEl.classList.remove('block');
        productCardBadgeEl.classList.add("!hidden");
        if (item.labels.new.enabled) {
            productCardBadgeEl.innerText = 'Yeni';
            productCardBadgeEl.classList.remove("!hidden");
        }
        if (parseInt(item.show_last_product_label) === 1) {
            if (item.labels.last_item.enabled) {
                productCardBadgeEl.innerText = 'Son ürün';
                productCardBadgeEl.classList.remove("!hidden");
            }
        }
        if (item.labels.digital_product.enabled) {
            productCardBadgeEl.innerText = 'Dijital ürün';
            productCardBadgeEl.classList.remove("!hidden");
        }
        if (item.labels.out_of_stock.enabled) {
            newProduct.querySelector('.product-card-no-stock').classList.remove('!hidden')
            newProduct.querySelector('.badge-no-stock').innerText = 'Tükendi'
            productCardBadgeEl.classList.add("!hidden");
        }
    }

    function setProductDiscountContainer(item, newProduct) {
        const productDiscountBox = newProduct.querySelector('.auto-badge');
        let productCardPurpleBadge = newProduct.querySelector('.purple-discount-badge');
        let productDiscountRate = newProduct.querySelector('.discount-rate');
        if (item.is_discounted) {
            productDiscountBox.classList.remove('!hidden');
            if (item.labels.discounted_product.enabled) {
                let productDiscountText = item.labels.automatic_discount.enabled ? "%" + item.labels.discounted_product.rate + "" : "%" + item.labels.discounted_product.rate + " İndirim"
                productDiscountRate.classList.remove('!hidden')
                productDiscountRate.innerText = productDiscountText;
            }
            if (item.labels.automatic_discount.enabled) {
                productCardPurpleBadge.classList.remove('!hidden');
            }
        }
    }

    function canvasProductPriceGenerator(item, newProduct) {
        const discountContainer = newProduct.querySelector('.discount-container');
        const priceContainer = newProduct.querySelector('.price-container');
        const {price_code, price_symbol, price_without_cent, has_cent, price_cent} = item.price;
        const {
            price_formatted,
            price_code: original_code,
            price_symbol: original_symbol,
            price_without_cent: original_without_cent,
            price_cent: original_cent,
            has_cent: original_has_cent
        } = item.original_price;

        const formatPrice = (price, symbol, cent, code, has_cent, isTL) => ({
            value: isTL ? price : symbol + price,
            centClass: has_cent ? '' : '!hidden',
            codeClass: isTL ? '' : '!hidden',
            cent,
            code
        });

        const createPriceTemplate = ({value, centClass, cent, codeClass, code}, priceClass) => `
            <div class="price ${priceClass}">
                <span class="price-value">${value}</span>
                <span class="price-cent ${centClass}">${cent}</span>
                <span class="price-currency ${codeClass}">${code}</span>
            </div>`;

        const isTL = price_code === 'TL';
        const priceData = formatPrice(price_without_cent, price_symbol, price_cent, price_code, has_cent, isTL);
        const discountPriceData = formatPrice(original_without_cent, original_symbol, original_cent, original_code, original_has_cent, isTL);

        const priceTemplate = createPriceTemplate(priceData, 'price-current price-new');
        const discountTemplate = createPriceTemplate(discountPriceData, 'price-old');

        if (parseInt(price_formatted) !== 0) {
            discountContainer.classList.remove("!hidden");
            discountContainer.innerHTML = priceTemplate + discountTemplate;
        } else {
            priceContainer.classList.remove('!hidden');
            priceContainer.innerHTML = priceTemplate;
        }
    }

    function setCanvasProductContent(item, newProduct) {
        newProduct.querySelector(".product-card__title").innerHTML = item.name;
        canvasProductPriceGenerator(item, newProduct);
        setCanvasProductImage(item, newProduct);
        setBadges(item, newProduct);
    }

    function fetchProducts(response, newProduct, productTemplate, sectionType, selector) {
        response.products.forEach(function (item, index) {
            newProduct.removeAttribute('id');
            newProduct.setAttribute('data-product', index);
                        newProduct.querySelector('.product-card__link').href = 'https://www.shopier.com/' + item.id;
            newProduct.querySelector('.product-card__link').setAttribute("data-back-id", item.id);
                        setCanvasProductContent(item, newProduct)
            newProduct.classList.remove("!hidden");
            document.querySelector(`.products-list${selector}`).appendChild(newProduct);
            newProduct = productTemplate.cloneNode(true);
            if (selector === '') {
                updateProductLink(item, newProduct, response, sectionType);
            }
        });
        document.querySelector('.input-filter')?.classList.remove('!hidden');
        if (selector === '-canvas') {
            UpdatedBadgesMargin('.shopier--product-card-canvas', '13px', '11px', '14px', '11px');

        } else if (selector === '') {
            UpdatedBadgesMargin('.product-card-store', '13px', '11px', '14px', '11px');
        }
    }

    function updateProductLink(item, newProduct, response, sectionType) {
        /*if (sectionType.searchWord2 === undefined || sectionType.searchWord2 === "")
            sectionType.searchWord2 = sectionType.search_value;*/

                const productLink = newProduct.querySelector('.product-card__link');
        productLink.href = 'https://www.shopier.com/' + item.id;
            }

    function resetPageCountAndStoredProduct() {
        store.pageCount = 1;
        updateStorageField('store.pageCount', 1);
        store.stored_product_id = '';
        updateStorageField('store.stored_product_id', '');
        store.productClientHeight = 0;
        updateStorageField('store.productClientHeight', '');
        store.current_product_count = store.default_product_count;
        updateStorageField('store.current_product_count', store.default_product_count);
    }

    /* return filter response product count */
    function setClearBtns(sectionType, selector, isTabClicked) {
        let clearBtns = document.querySelectorAll(`.clear-filter-trigger${selector}`);
        clearBtns.forEach(function (btn) {
            if ((hasNoFilters(sectionType) || isSingleCategorySelected(sectionType) && isTabClicked)) {
                btn.classList.add('!hidden');
                /*if (!isSingleCategorySelected(sectionType)){
                    setDotVisibility(false, `.sorting-dot${selector} .input-filter-dot${selector}`)
                    setDotVisibility(false, `.filter-dot${selector} .input-filter-dot${selector}`)
                }*/
            } else {
                btn.classList.remove('!hidden');
            }
        })
    }

    function isSingleCategorySelected(sectionType) {
        if (
            (sectionType.max_price === "") && (sectionType.min_price === "") &&
            (sectionType.search_value === '' || sectionType.search_value === null) &&
            sectionType.checkboxes.length === 1 && sectionType.checkboxes[0].startsWith('cat_')
        ) {
            return true
        } else return false
    }

    function hasNoFilters(sectionType) {
        if (
            (sectionType.max_price === "") && (sectionType.min_price === "") &&
            (sectionType.search_value === '' || sectionType.search_value === null) &&
            sectionType.checkboxes.length === 0
        ) {
            return true
        } else return false
    }

    function hasNoSorting(sectionType) {
        if (
            sectionType.datesort === -1 &&
            sectionType.pricesort === -1
        ) {
            return true
        } else return false
    }

    function getProductsCount(count, isLoadMore, sectionType, selector, isTabClicked) {
        const productsLower = 'ürün';
        const productLower = 'ürün';
        if (isLoadMore) {
            if (!hasNoFilters(sectionType) || !hasNoSorting(sectionType)) {
                let oldCount = parseInt(document.getElementById(`products-count${selector}`)?.textContent);
                document.getElementById(`products-count${selector}`).innerHTML = count + oldCount;
            }
        } else {
            if (sectionType.filter === 0 && sectionType.search_value === '') {
                /* No filter, No search, Sort doesn't matter */
                document.getElementById(`products-count_box${selector}`).innerHTML = `<span id="products-count${selector}">63</span>  ürün `
            }  else if ((sectionType.filter === 0 && sectionType.search_value !== '' && sectionType.sort === 0 )||(isSingleCategorySelected(sectionType) && isTabClicked)) {
                /* (No filter, Yes search, No sort) or (Only 1 category selected) */
                document.getElementById(`products-count_box${selector}`).innerHTML = `<span id="products-count${selector}">` + count + `</span> ` + (count > 1 ? productsLower : productLower);
            } else {
                /* Yes Filter */
                document.getElementById(`products-count_box${selector}`).innerHTML = `Filtrelenen: <span id="products-count${selector}">` + count + `</span> ` + (count > 1 ? productsLower : productLower);
            }
            setClearBtns(sectionType, selector, isTabClicked)
        }
    }


    window.addEventListener("load", () => {
        createObserver(canvas, '-canvas', 'canvas');
            }, false,);
    canvas.disableLoadMore = true;

    function createObserver(sectionType, selector, sectionName = 'store') {
        const options = {
            root: selector === '-canvas' ? document.getElementById('search-canvas') : null,
            rootMargin: "0px",
            threshold: 0.1,
        };
        const observer = new IntersectionObserver((entries) => {
            if (Math.ceil(63 / sectionType.default_product_count) !== sectionType.pageCount) {
                loadCallback(entries, observer, sectionType, selector, sectionName);
            }
        }, options);

        const target = document.querySelector(`.footer${selector}`);
        observer.observe(target);
    }


    const loadCallback = (entries, observer, sectionType, selector, sectionName = 'store') => {
        entries.forEach((entry) => {
            if (entry.isIntersecting) {
                if (sectionType.disableLoadMore) {
                    return;
                }

                showLoader(sectionType, selector);

                if (sectionType.current_product_count == "0") {
                    sectionType.current_product_count = sectionType.default_product_count;
                    updateStorageField(`${sectionType}.current_product_count`, sectionType.default_product_count);
                }
                sectionType.disableLoadMore = true;

                //LOAD MORE
                var q;
                if (document.querySelector(`.shopier-es--input${selector}`))
                    q = document.querySelector(`.shopier-es--input${selector}`).value;
                else
                    q = '';
                let params = {
                    start: sectionType.default_product_count,
                    offset: $(`.shopier--product-card${selector}`).length - 1,
                    filter: sectionType.filter || 0,
                    sort: sectionType.sort || 0,
                    filterMaxPrice: sectionType.max_price,
                    filterMinPrice: sectionType.min_price,
                    datesort: sectionType.datesort,
                    pricesort: sectionType.pricesort,
                    value: q
                };
                let queryString = '';
                Object.keys(params)?.forEach(function (key) {
                    queryString += key + '=' + params[key] + '&';
                });
                var activeCheckBoxesLength = sectionType.checkboxes.length;
                if (activeCheckBoxesLength > 0) {
                    for (var i = 0; i < activeCheckBoxesLength; i++) {
                        queryString += "activeCheckBoxes[]=" + sectionType.checkboxes[i] + '&';
                    }
                }
                queryString = queryString.substring(0, queryString.length - 1);
                queryString = new URLSearchParams(queryString).toString();
                const url = 'https://www.shopier.com/s/api/v1/search_product/ButikBora'
                const data = queryString;
                sendRequest('POST', url, data, function (http) {
                    let response = http.response;
                    sectionType.pageCount++;
                    updateStorageField(`${sectionName}.pageCount`, parseInt(sectionType.pageCount))
                    sectionType.current_product_count = parseInt(sectionType.pageCount) * parseInt(sectionType.default_product_count);
                    updateStorageField(`${sectionName}.current_product_count`, sectionType.current_product_count)
                    const productTemplate = document.querySelector(`#shopier--product-card-template${selector}`);
                    const top = $(window).scrollTop();
                    let newProduct = productTemplate.cloneNode(true);

                    setTimeout(function () {
                        getProductsCount(response.products.length, true, sectionType, selector);
                        fetchProducts(response, newProduct, productTemplate, sectionType, selector);
                        hideLoader(sectionType, selector);
                        sectionType.disableLoadMore = false
                        if (response.products.length % sectionType.default_product_count !== 0 || response.products.length === 0) {
                            sectionType.disableLoadMore = true;
                        }
                    }, 500);
                    const h = document.querySelector(`#shopier--product-card-template${selector}`).clientHeight;
                    window.scrollTo({top: top - h, behavior: "smooth"});
                    return false;
                }, true)

            }
        });
    };

    function decideInfiniteScroll(length, sectionType) {
        if (length % sectionType.default_product_count !== 0 || Math.ceil(63 / sectionType.default_product_count) === sectionType.pageCount) {
            sectionType.disableLoadMore = true;
        } else {
            sectionType.disableLoadMore = false;
        }
    }

    const lottieAnimations = {};

    function createLottieAnimation(selector, path) {
        const loadMore = {
            nm: "loading_6",
            mn: "",
            layers: [{
                ty: 4,
                nm: "Shape Layer 2",
                mn: "",
                sr: 1,
                st: 0,
                op: 300,
                ip: 0,
                hd: !1,
                cl: "",
                ln: "",
                ddd: 0,
                bm: 0,
                hasMask: !1,
                ao: 0,
                ks: {
                    a: {a: 0, k: [0, 0, 0], ix: 1},
                    s: {a: 0, k: [30.000000000000004, 30.000000000000004, 100], ix: 6},
                    sk: {a: 0, k: 0},
                    p: {a: 0, k: [150.00000000000003, 150.00000000000003, 0], ix: 2},
                    r: {
                        a: 1,
                        k: [{o: {x: .167, y: .167}, i: {x: .833, y: .833}, s: [0], t: 0}, {
                            o: {x: .167, y: .167},
                            i: {x: .833, y: .833},
                            s: [360],
                            t: 60
                        }],
                        ix: 10
                    },
                    sa: {a: 0, k: 0},
                    o: {a: 0, k: 100, ix: 11}
                },
                ef: [],
                shapes: [{
                    ty: "gr",
                    bm: 0,
                    cl: "",
                    ln: "",
                    hd: !1,
                    mn: "ADBE Vector Group",
                    nm: "Ellipse 1",
                    ix: 1,
                    cix: 2,
                    np: 3,
                    it: [{
                        ty: "el",
                        bm: 0,
                        cl: "",
                        ln: "",
                        hd: !1,
                        mn: "ADBE Vector Shape - Ellipse",
                        nm: "Ellipse Path 1",
                        d: 1,
                        p: {a: 0, k: [0, 0], ix: 3},
                        s: {a: 0, k: [300, 300], ix: 2}
                    }, {
                        ty: "st",
                        bm: 0,
                        cl: "",
                        ln: "",
                        hd: !1,
                        mn: "ADBE Vector Graphic - Stroke",
                        nm: "Stroke 1",
                        lc: 2,
                        lj: 1,
                        ml: 4,
                        o: {a: 0, k: 100, ix: 4},
                        w: {a: 0, k: 50, ix: 5},
                        d: [],
                        c: {a: 0, k: [.4039, 0, 1], ix: 3}
                    }, {
                        ty: "tr",
                        a: {a: 0, k: [0, 0], ix: 1},
                        s: {a: 0, k: [100, 100], ix: 3},
                        sk: {a: 0, k: 0, ix: 4},
                        p: {a: 0, k: [0, 0], ix: 2},
                        r: {a: 0, k: 0, ix: 6},
                        sa: {a: 0, k: 0, ix: 5},
                        o: {a: 0, k: 100, ix: 7}
                    }]
                }, {
                    ty: "tm",
                    bm: 0,
                    cl: "",
                    ln: "",
                    hd: !1,
                    mn: "ADBE Vector Filter - Trim",
                    nm: "Trim Paths 1",
                    ix: 2,
                    e: {
                        a: 1,
                        k: [{o: {x: .333, y: 0}, i: {x: .667, y: 1}, s: [1], t: 0}, {
                            o: {x: .167, y: .167},
                            i: {x: .833, y: .833},
                            s: [100],
                            t: 50
                        }],
                        ix: 2
                    },
                    o: {
                        a: 1,
                        k: [{o: {x: .167, y: .167}, i: {x: .833, y: .833}, s: [0], t: 0}, {
                            o: {x: .167, y: .167},
                            i: {x: .833, y: .833},
                            s: [3],
                            t: 60
                        }],
                        ix: 3
                    },
                    s: {
                        a: 1,
                        k: [{o: {x: .333, y: 0}, i: {x: .667, y: 1}, s: [0], t: 10}, {
                            o: {x: .167, y: .167},
                            i: {x: .833, y: .833},
                            s: [99],
                            t: 60
                        }],
                        ix: 1
                    },
                    m: 1
                }],
                ind: 1
            }, {
                ty: 4,
                nm: "Shape Layer 1",
                mn: "",
                sr: 1,
                st: 0,
                op: 300,
                ip: 0,
                hd: !1,
                cl: "",
                ln: "",
                ddd: 0,
                bm: 0,
                hasMask: !1,
                ao: 0,
                ks: {
                    a: {a: 0, k: [0, 0, 0], ix: 1},
                    s: {a: 0, k: [30.000000000000004, 30.000000000000004, 100], ix: 6},
                    sk: {a: 0, k: 0},
                    p: {a: 0, k: [150.00000000000003, 150.00000000000003, 0], ix: 2},
                    r: {a: 0, k: 0, ix: 10},
                    sa: {a: 0, k: 0},
                    o: {a: 0, k: 30, ix: 11}
                },
                ef: [],
                shapes: [{
                    ty: "gr",
                    bm: 0,
                    cl: "",
                    ln: "",
                    hd: !1,
                    mn: "ADBE Vector Group",
                    nm: "Ellipse 1",
                    ix: 1,
                    cix: 2,
                    np: 3,
                    it: [{
                        ty: "el",
                        bm: 0,
                        cl: "",
                        ln: "",
                        hd: !1,
                        mn: "ADBE Vector Shape - Ellipse",
                        nm: "Ellipse Path 1",
                        d: 1,
                        p: {a: 0, k: [0, 0], ix: 3},
                        s: {a: 0, k: [300, 300], ix: 2}
                    }, {
                        ty: "st",
                        bm: 0,
                        cl: "",
                        ln: "",
                        hd: !1,
                        mn: "ADBE Vector Graphic - Stroke",
                        nm: "Stroke 1",
                        lc: 1,
                        lj: 1,
                        ml: 4,
                        o: {a: 0, k: 100, ix: 4},
                        w: {a: 0, k: 50, ix: 5},
                        d: [],
                        c: {a: 0, k: [.6275, .6275, .6275], ix: 3}
                    }, {
                        ty: "tr",
                        a: {a: 0, k: [0, 0], ix: 1},
                        s: {a: 0, k: [100, 100], ix: 3},
                        sk: {a: 0, k: 0, ix: 4},
                        p: {a: 0, k: [0, 0], ix: 2},
                        r: {a: 0, k: 0, ix: 6},
                        sa: {a: 0, k: 0, ix: 5},
                        o: {a: 0, k: 100, ix: 7}
                    }]
                }],
                ind: 2
            }],
            ddd: 0,
            h: 300,
            w: 300,
            meta: {a: "", k: "", d: "", g: "@lottiefiles/toolkit-js 0.22.1", tc: "#000000"},
            v: "5.8.1",
            fr: 30,
            op: 60,
            ip: 0,
            assets: []
        };
        const animation = lottie.loadAnimation({
            container: document.querySelector(selector),
            renderer: 'svg',
            loop: true,
            autoplay: true,
            animationData: loadMore
        });
        lottieAnimations[selector] = animation;
        animation.stop();
    }

    function showLoader(sectionType, selector) {
        if (!sectionType.isShowLoader) {
            lottieAnimations[`#lottie-animation${selector}`].play();
            document.querySelector(`.animation${selector}`)?.classList.remove('!hidden');
            document.querySelector(`.filter-store${selector}`)?.classList.add("hidden");
            sectionType.isShowLoader = true;
        }
    }

    function hideLoader(sectionType, selector) {
        document.querySelector(`.animation${selector}`)?.classList.add('!hidden');
        document.querySelector(`.filter-store${selector}`)?.classList.remove("hidden");
        lottieAnimations[`#lottie-animation${selector}`].stop();
        sectionType.isShowLoader = false;
    }

    function showEmptyFilter(selector) {
        document.getElementById(`shopier--search-empty-section${selector}`)?.classList.remove("!hidden");
        document.querySelector(`.filter-store${selector}`)?.classList.add("!hidden");
        document.querySelector('.store-filter-buttons')?.classList.add('!hidden')
    }

    function hideEmptyFilter(selector) {
        /* If empty filter is active, this function work */
        document.getElementById(`shopier--search-empty-section${selector}`)?.classList.add("!hidden");
        document.querySelector(`.filter-store${selector}`)?.classList.remove("!hidden");
        document.querySelector('.store-filter-buttons')?.classList.remove('!hidden')
    }

    /* Trigger when choose a category from filter canvas */

    function setTabsVisibility(catsLength, categoryTabContainer) {
        if (catsLength > 1) {
            categoryTabContainer?.classList.add('!hidden');
        } else {
            categoryTabContainer?.classList.remove('!hidden');
        }
    }

    function resetTabStyles(catTabs) {
        catTabs.forEach(t => {
            t.firstElementChild?.classList.remove('active')
            t.parentElement?.classList.remove('swiper-slide-active')
        });
    }

    function activateTabClick(catTabs, isActive) {
        if (isActive) {
            catTabs.forEach(tab => {
                tab.classList.remove('pointer-events-none')
            })
        } else {
            catTabs.forEach(tab => {
                tab.classList.add('pointer-events-none')
            })
        }
    }

    function resetCategoryCheckboxes(selector = '') {
        const checkboxes = document.querySelectorAll(`.category-checkbox${selector}`);
        checkboxes.forEach(el => {
            el.checked = false;
        })
    }

    let isFirstReload = true;

    function setActiveTab(catTabs, tab = null, isTabClicked, sectionType, selector) {
        resetTabStyles(catTabs)
        if (isTabClicked) {
            tab.firstElementChild?.classList.add('active');
            tab.parentElement?.classList.add('swiper-slide-active')
        } else {
            const tabContainer = document.querySelector(`.categories${selector}`);
            const activeCat = sectionType.checkboxes.filter(item => item.startsWith('cat_'));
            const activeTab = tabContainer.querySelector(`[data-id="${activeCat}"]`)
            activeTab?.classList.add('active')
            const swiperContainer = document.querySelector(`.tab-swiper${selector}`);
            if (swiperContainer && swiperContainer.swiper && isFirstReload) {
                const swiperInstance = swiperContainer.swiper;
                const slides = Array.from(swiperContainer.querySelectorAll('.swiper-slide'));
                const targetSlideIndex = slides.findIndex(slide => {
                    return slide.querySelector('.active');
                });
                if (targetSlideIndex !== -1) {
                    swiperInstance.slideTo(targetSlideIndex - 2);
                    isFirstReload = false;
                }
            }
        }

    }


    /*function fetchActiveTab() {
        const activeCategory = store.checkboxes.filter(item => item.startsWith("cat_"));
        const catTabs = document.querySelectorAll('.tab-category-filter');
        if (activeCategory.length === 1) {
            resetTabStyles(catTabs)
            const tabContainer = document.querySelector('.store-categories');
            const activeId = String(activeCategory[0])
            const activeTab = tabContainer.querySelector(`[data-id="${activeId}"]`)
            activeTab?.classList.add('active')
        }
    }*/

    function handleClickTab(sectionType, selector = '', sectionName = 'store') {
        const catTabs = document.querySelectorAll(`.tab-category-filter${selector}`);
        catTabs.forEach(tab => {
            tab.addEventListener('click', function () {
                resetPageCountAndStoredProduct()
                const activeCategory = tab.querySelector(`.tab-link${selector}`).getAttribute('data-id');
                /* To prevent multiple request on the same click */
                if (activeCategory === sectionType.lastActiveTabCategory) {
                    return;
                }

                resetCategoryCheckboxes(selector)
                setActiveTab(catTabs, tab, true, sectionType, selector)
                /* Check if clicked category is all products */
                sectionType.checkboxes = sectionType.checkboxes.filter(item => !item.startsWith('cat_'));
                if (activeCategory === 'cat_all') {
                    /* Tüm ürünler e tıklandığında çalışan blok */
                    sectionName === 'store' ? handleClearFilter() : handleClearFilterCanvas(false);
                                        sectionType.lastActiveTabCategory = null;
                } else {
                    sectionType.checkboxes.push(activeCategory);
                                        window.scrollTo(0, 0)
                    sendFilterInfo(sectionType, selector, sectionName, '0', true);
                                        enableApplyBtn(`apply-filter${selector}`, `clear-all-filter${selector}`)
                    sectionType.lastActiveTabCategory = activeCategory;
                }
            })
        })
    }

    document.addEventListener("DOMContentLoaded", function () {
                const categories = {
                        328256: "GÖMLEK",
                        328257: "T-SHİRT",
                        328258: "KOT PANTOLON",
                        328260: "MONT",
                        976841: "KAZAK",
                        976842: "EŞOFMAN",
                        976843: "SWEATSHİRT",
                        1348604: "Yarım Fermuarlı",
                    };
                        const input = document.getElementById('shopier-es--input-mobile');
        const filterDiv = document.querySelector('.input-filter');
        const searchBackDrop = document.querySelector('#search-canvas .search-backdrop')
        const clearBtn = document.querySelectorAll('.input-clear-btn');
        /* Search inputundaki çarpı iconu */
        clearBtn?.forEach(function (btn) {
            btn.addEventListener('click', function () {
                filterDiv?.classList.remove('!hidden')
                if (canvas.search_value) {
                    setTimeout(() => {
                        handleClearFilterCanvas();
                    }, 100);
                }
                if (store.search_value) {
                                    }
            })
        })
        document.addEventListener('click', function (event) {
            if (!input?.contains(event.target) && !filterDiv?.contains(event.target)) {
                filterDiv?.classList.remove('!hidden');
            }
        });
        input?.addEventListener('focus', function () {
            filterDiv?.classList.add('!hidden')
        });
        searchBackDrop?.addEventListener('click', function () {
            filterDiv?.classList.remove('!hidden')
        })

        let labels = document.querySelectorAll('.shopier--filtering-checkbox-label');
        labels.forEach(function (label) {
            label.addEventListener('click', function (event) {
                if (event.target.tagName !== 'INPUT') {
                    event.stopPropagation();
                }
            });

        });
                createLottieAnimation("#lottie-animation-canvas");
        applyFiltersIfActive(canvas, '-canvas', 'canvas');
        handleClickTab(canvas, '-canvas', 'canvas');
    });

    function applyFiltersIfActive(sectionType, selector, sectionName) {
        if (store.search_value) {
            const input = document.getElementById('shopier-es--input');
            input.value = store.search_value;
            window.scrollTo(0, 0);
        }
        if (((sectionType.filter || sectionType.sort || sectionType.search_value) && !sectionType.pageCategory) || sectionType.pageCount > 1) {
            /* Eğer başka sayfadan aramayla gelindiyse getBackItem çalışamaz */
            if (sectionType.search_value) {
                resetPageCountAndStoredProduct()
                setTimeout(() => sendFilterInfo(sectionType, selector, sectionName), 100);
            } else {
                setTimeout(() => sendFilterInfo(sectionType, selector, sectionName, 1), 100);
            }
                    }
    }

    function handleClickWidget(event, sectionType, sectionName, selector = '') {
        const maxInput = document.getElementById(`max-price${selector}`);
        const minInput = document.getElementById(`min-price${selector}`);
        const $this = $(event.currentTarget);
        const elem = $this.children(".shopier--filtering-checkbox-label");
        let dataid = elem.data("id") + "";
        if (dataid == "undefined" || dataid == "" || dataid == "null")
            return;

        if (dataid.substr(0, 3) === "mb_") {
            dataid = dataid.substr(3);
        }
        if (dataid.substr(0, 4) === "cat_") {
            let tmpselectedCategory = dataid.substr(4);
            sectionType.selected_category = tmpselectedCategory;
            updateStorageField(`${sectionName}.selected_category`, tmpselectedCategory);
        }

        if (sectionType.checkboxes.indexOf(dataid) === -1) {
            enableApplyBtn(`apply-filter${selector}`, `clear-all-filter${selector}`);
            sectionType.checkboxes.push(dataid);
            variationChecker(sectionType, selector, dataid);
        } else if (sectionType.checkboxes.indexOf(dataid) !== -1) {
            var index = sectionType.checkboxes.indexOf(dataid);
            if (index !== -1) {
                sectionType.checkboxes.splice(index, 1);
                variationChecker(sectionType, selector, dataid);
            }

            if (sectionType.checkboxes.length === 0 && (minInput.value === '' || minInput.value == 0) && maxInput.value === '') {
                disableApplyBtn(`apply-filter${selector}`, `clear-all-filter${selector}`)
            }
        }
    }

    function listenPriceInputs(sectionType, selector) {
        const maxInput = document.getElementById(`max-price${selector}`);
        const minInput = document.getElementById(`min-price${selector}`);
        maxInput.addEventListener('input', function () {
            if (maxInput.value !== "") {
                enableApplyBtn(`apply-filter${selector}`, `clear-all-filter${selector}`)
            } else if ((minInput.value === "" || minInput.value == 0) && maxInput.value === "" && sectionType.checkboxes.length === 0) {
                disableApplyBtn(`apply-filter${selector}`, `clear-all-filter${selector}`)
            }
        })
        minInput.addEventListener('input', function () {
            if (minInput.value !== "" && minInput.value > 0) {
                enableApplyBtn(`apply-filter${selector}`, `clear-all-filter${selector}`)
            } else if ((minInput.value === "" || minInput.value == 0) && maxInput.value === "" && sectionType.checkboxes.length === 0) {
                disableApplyBtn(`apply-filter${selector}`, `clear-all-filter${selector}`)
            }
        })
    }

    $('.filter-widget__item-canvas').on('click', function (event) {
        handleClickWidget(event, canvas, 'canvas', '-canvas');
    });
    $('.filter-widget__item').on('click', function (event) {
        handleClickWidget(event, store, 'store');
    });

    function handleExpandableAttribute(selector = '') {
        document.querySelectorAll(`.custom-expandable-chips${selector}`).forEach((wrapper) => {
            const list = wrapper.querySelector(`.custom-expandable-chips-list${selector}`);
            if (list && list.scrollHeight > list.clientHeight) {
                wrapper.setAttribute('data-scroll-expandable', 'top');
            } else {
                if (wrapper?.getAttribute('data-scroll-expandable') === 'top') {
                    list.style.setProperty('--line-count', 4);
                    wrapper.removeAttribute('data-scroll-expandable');
                }
            }
        });
    }

    function variationChecker(sectionType, selector = '', clickType = "var") {
        if (!(clickType.substr(0, 4) === "cat_")) {
            $.ajax({
                method: "POST",
                url: "https://www.shopier.com/s/api/v1/get_filter_matrix",
                data: {
                    shop_name: "ButikBora",
                    activeCheckBoxes: canvas.checkboxes
                },
                dataType: 'json'
            }).done(function (data) {
                filterCanvasChecker(sectionType, selector, data);
            });
        }
    }

    function filterCanvasChecker(sectionType, selector, data) {
        variationMatrix = data;
        var twoDifferentCheckboxChecked = 0;
        var mainvariation = 0;
        var unDisabledCheckBoxes = [];
        var splitedItem = [];
        var checkVariation = 0;
        sectionType.checkboxes?.forEach(function myFunction(item, index) {
            if (!(item.substr(0, 4) === "cat_")) {
                if (item.substr(0, 3) === "mb_") {
                    item = item.substr(3);
                }
                splitedItem = item.split("_");
                unDisabledCheckBoxes.push(item.toString());
                if (item === "bestProducts" || item === "otoDiscount" || item === "discount" || item === "stock") {
                    $.each(variationMatrix[item], function myFunction2(item2, index2) {
                        if (unDisabledCheckBoxes.indexOf(index2) === -1) {
                            unDisabledCheckBoxes.push(index2.toString());
                            twoDifferentCheckboxChecked = 1;
                        }
                    });
                } else {

                    $.each(variationMatrix[splitedItem[0]], function myFunction2(item2, index2) {
                        checkVariation = 1;
                        if (splitedItem[1] === item2) {
                            $.each(index2, function myFunction3(item3, index3) {
                                ///burada o key mi kontrolü yapılmıyo hata bundan dolayı
                                if (unDisabledCheckBoxes.indexOf(index3.toString()) === -1) {
                                    if (mainvariation === 0) {
                                        mainvariation = splitedItem[0];
                                    } else {
                                        if (mainvariation !== splitedItem[0]) {
                                            twoDifferentCheckboxChecked = 1;
                                        }
                                    }
                                    unDisabledCheckBoxes.push(index3.toString());
                                }
                            });
                        }
                    });
                    if (mainvariation === 0 && twoDifferentCheckboxChecked === 0)
                        mainvariation = splitedItem[0];
                }
            }
        });
        if (mainvariation !== 0 || twoDifferentCheckboxChecked !== 0 || unDisabledCheckBoxes.length !== 0 || checkVariation === 1)
            variationDisabledProcess(mainvariation, twoDifferentCheckboxChecked, unDisabledCheckBoxes, selector);
        else
            variationUnDisabledProcess(selector);
    }

    function variationDisabledProcess(mainvariation, twoDifferentCheckboxChecked, unDisabledCheckBoxes, selector) {
        var dataid;
        var splitedItem;
        var checkboxlist = $(`.disableable-widget${selector}`);
        for (var i = 0; i < checkboxlist.length; i++) {
            dataid = $(checkboxlist[i]).data('id') + "";
            if (dataid.substr(0, 3) === "mb_") {
                dataid = dataid.substr(3);
            }
            splitedItem = dataid.split("_");
            if (!(dataid.substr(0, 4) === "cat_") && dataid !== "" && dataid !== null && dataid !== "null" && dataid !== "undefined") {
                if (mainvariation + "" === splitedItem[0] + "" && twoDifferentCheckboxChecked === 0) {
                    $(checkboxlist[i]).removeClass("disabled");
                    $(checkboxlist[i]).parent().attr("style", "display: block");
                    continue;
                }

                if (splitedItem.length !== 2 && dataid !== "discount" && dataid !== "otoDiscount"
                    && dataid !== "bestProducts" && dataid !== "stock")
                    continue;

                if (splitedItem.length === 2)
                    dataid = splitedItem[1];


                if (unDisabledCheckBoxes.indexOf(dataid) === -1) {
                    if (!$(checkboxlist[i]).parent().hasClass("active")) {

                        let data_id = $(checkboxlist[i]).data("id");
                        if (data_id.substr(0, 3) === "mb_") {
                            data_id = data_id.substr(3);
                        }
                        if (!unDisabledCheckBoxes.includes(data_id)) {
                            $(checkboxlist[i]).addClass("disabled");
                            $(checkboxlist[i]).parent().attr("style", "display: none !important");
                        }
                    }
                } else {
                    $(checkboxlist[i]).removeClass("disabled");
                    $(checkboxlist[i]).parent().attr("style", "display: block");
                }
            }
        }
        handleExpandableAttribute(selector);
    }

    function variationUnDisabledProcess(selector) {
        var dataid;
        var splitedItem;
        var checkboxlist = $(`.disableable-widget${selector}`);
        for (var i = 0; i < checkboxlist.length; i++) {
            dataid = $(checkboxlist[i]).data('id') + "";
            if (dataid.substr(0, 3) === "mb_") {
                dataid = dataid.substr(3);
            }
            splitedItem = dataid.split("_");
            if ((splitedItem.length == 2 && isNaN(splitedItem[0]) == false)
                || dataid === "discount" || dataid === "otoDiscount"
                || dataid === "bestProducts" || dataid === "stock") {
                $(checkboxlist[i]).removeClass("disabled");
                $(checkboxlist[i]).parent().attr("style", "display: block");
            }

        }
        handleExpandableAttribute(selector);
    }

    function setTabsOnSendFilter(catTabs, catsLength, sectionType, selector) {
        if (catsLength === 1) {
            setActiveTab(catTabs, null, false, sectionType, selector)
        } else if (catsLength === 0) {
            resetTabStyles(catTabs);
            document.querySelector(`.tab-default${selector}`)?.classList.add('active');
        }
        const categoryTabContainer = document.querySelector(`.categories${selector}`)
        setTabsVisibility(catsLength, categoryTabContainer)
    }


    function sendFilterInfo(sectionType, selector, sectionName = 'store', reload = "0", isTabClicked = false) {
        /* Function parameters
        sectiontype = current section(canvas or store)
        selector = '-canvas' or '
        sectionName = to reach store or canvas object keys
        reload = for getBackItem function
        isTabClicked = Only return true when category tabs clicked
        * */
        return new Promise((resolve) => {
                        const categories = {
                                328256: "GÖMLEK",
                                328257: "T-SHİRT",
                                328258: "KOT PANTOLON",
                                328260: "MONT",
                                976841: "KAZAK",
                                976842: "EŞOFMAN",
                                976843: "SWEATSHİRT",
                                1348604: "Yarım Fermuarlı",
                            };
                                    const catTabs = document.querySelectorAll(`.tab-category-filter${selector}`);
            sectionType.disableLoadMore = true;
            showLoader(sectionType, `${selector}`);
            if (sectionType === canvas) {
                /* Pagecount değeri canvas için her istekte güncellenmeli */
                canvas.pageCount = 1;
                showFilterView();
                document.querySelector('.products-list-canvas').classList.remove('!hidden');
            }
            let currentPictureCountForCategory_canvas = 0;
            let currentPictureCountForCategory_store = 0;
            sectionType.fakeClick = 0;

            var jeton = document.querySelector('meta[name="csrf-token"]').content;

            if ((Number(sectionType.datesort) !== -1) || (Number(sectionType.pricesort) !== -1))
                sectionType.sort = 1;
            else {
                sectionType.sort = 0;
            }

            if (sectionType.min_price != "" || sectionType.max_price != "" || sectionType.checkboxes.length > 0)
                sectionType.filter = 1;

            else {
                sectionType.filter = 0;
            }
            if (sectionType.tmpProductCategoryID != "-1" && sectionType.tmpProductCategoryID != "0" && sectionType.checkboxes.indexOf("cat_" + sectionType.tmpProductCategoryID) === -1)
                sectionType.checkboxes.push("cat_" + sectionType.tmpProductCategoryID);
            if (!sectionType.search_value) {
                sectionType.search_value = '';
            }
            let selectedCategories = sectionType.checkboxes.filter(item => item.startsWith('cat_'));
            /* Eğer tüm ürünler tab ine tıklanmadıysa burayı çalıştır */
            if (sectionType.lastActiveTabCategory !== 'cat_all') {
                if (selectedCategories.length === 1) {
                    sectionType.lastActiveTabCategory = selectedCategories[0];
                } else {
                    sectionType.lastActiveTabCategory = [];
                }
            }
            var limit;
            if (reload == "1")
                limit = sectionType.current_product_count;
            else
                limit = sectionType.default_product_count;
            let params = {
                start: limit,
                offset: sectionType === 'canvas' ? currentPictureCountForCategory_canvas : currentPictureCountForCategory_store,
                filter: sectionType.filter,
                sort: sectionType.sort,
                filterMinPrice: sectionType.min_price,
                filterMaxPrice: sectionType.max_price,
                datesort: sectionType.datesort,
                pricesort: sectionType.pricesort,
                value: sectionType.search_value,
            };

            /* Start değeri 0 olarak geliyorsa hiç istek atmamalı */
            if (params.start === 0)
                return;

            let queryString = '';
            Object.keys(params).forEach(function (key) {
                queryString += key + '=' + params[key] + '&';
            });

            activeCheckBoxesLength = sectionType.checkboxes.length;
            if (activeCheckBoxesLength > 0) {
                for (var i = 0; i < activeCheckBoxesLength; i++) {
                    queryString += "activeCheckBoxes[]=" + sectionType.checkboxes[i] + '&';
                }
            }
            queryString = queryString.substring(0, queryString.length - 1);

            queryString = new URLSearchParams(queryString).toString();
            const data = queryString;
            const url = "https://www.shopier.com/s/api/v1/search_product/ButikBora";
            //FILTER/SORT
            $(`.products-list${selector}`).empty();
            hideEmptyFilter(selector);
            activateTabClick(catTabs, false);
            sendRequest('POST', url, data, function (http) {
                let response = http.response;

                if (sectionType === 'canvas') {
                    currentPictureCountForCategory_canvas = parseInt(sectionType.currentPictureCountForCategory) + parseInt(sectionType.default_product_count);
                } else {
                    currentPictureCountForCategory_store = parseInt(sectionType.currentPictureCountForCategory) + parseInt(sectionType.default_product_count);
                }
                sectionType.current_product_count = parseInt(sectionType.current_product_count) + parseInt(sectionType.default_product_count);
                updateStorageField('store.jeton', jeton)
                updateStorageField(`${sectionName}.min_price`, sectionType.min_price);
                updateStorageField(`${sectionName}.max_price`, sectionType.max_price);
                updateStorageField(`${sectionName}.datesort`, sectionType.datesort);
                updateStorageField(`${sectionName}.pricesort`, sectionType.pricesort);
                updateStorageField(`${sectionName}.filter`, sectionType.filter);
                updateStorageField(`${sectionName}.checkboxes`, sectionType.checkboxes);
                updateStorageField(`${sectionName}.sort`, sectionType.sort);
                if (response.status === 0) {
                    setTimeout(function () {
                        hideLoader(sectionType, selector);
                        activateTabClick(catTabs, true);
                        showEmptyFilter(selector);
                        resolve();
                    }, 1000);
                } else {
                    setTabsOnSendFilter(catTabs, selectedCategories.length, sectionType, selector);
                    var productTemplate = document.querySelector(`#shopier--product-card-template${selector}`);
                    if (sectionType.search_value) {
                        document.getElementById('shopier-es--input-mobile').value = sectionType.search_value;
                    }
                    var newProduct = productTemplate.cloneNode(true);
                    new Promise((resolve) => {
                        decideInfiniteScroll(response.products.length, sectionType);
                        getProductsCount(response.products.length, false, sectionType, selector, isTabClicked);
                        fetchProducts(response, newProduct, productTemplate, sectionType, selector);
                        hideEmptyFilter(selector);
                        activateTabClick(catTabs, true);
                        if (reload == 1) {
                            getBackItem();
                        }
                        resolve();
                    }).then(() => {
                        hideLoader(sectionType, selector);
                        resolve();
                    })
                }
            }, true)
        });
    }

    $('#apply-sorting-canvas').on('click', function () {
        const isSortingActive = document.querySelector('.shopier--sorting-price-date-radio-canvas:checked') !== null;
        setDotVisibility(isSortingActive, '.sorting-dot-canvas .input-filter-dot-canvas');
        canvas.min_price = $('#min-price-canvas').val();
        canvas.max_price = $('#max-price-canvas').val();
        setTimeout("sendFilterInfo(canvas, '-canvas', 'canvas')", 100);
    });
    $('#apply-sorting').on('click', function () {
        const isSortingActive = document.querySelector('.shopier--sorting-price-date-radio:checked') !== null;
        setDotVisibility(isSortingActive, '.sorting-dot .input-filter-dot-store')
        store.min_price = $('#min-price').val();
        store.max_price = $('#max-price').val();
        history.pushState({}, "", (window.location + '').split('#')[0]);
        resetPageCountAndStoredProduct();
        setTimeout("sendFilterInfo(store, '')", 100);
    });

    /* Check if filter inputs checked to start filter */
    function isFilterActive(checkboxClass, filterStatus, selector) {
        const filterCheckboxes = document.querySelectorAll(checkboxClass);
        const minPrice = $(`#min-price${selector}`).val();
        const maxPrice = $(`#max-price${selector}`).val();
        let filterActive = filterStatus;
        filterCheckboxes.forEach(function (checkbox) {
            if (checkbox.checked) {
                filterActive = true;
            }
        });
        if (minPrice !== '' || maxPrice !== '') {
            filterActive = true;
        }

        return filterActive;
    }

    function setDotVisibility(showDot, selector) {
        const btns = document.querySelectorAll(selector);
        btns.forEach(btn => {
            if (showDot) {
                btn.classList.remove('!hidden');
            } else {
                btn.classList.add('!hidden');
            }
        })
    }

    function clearSession(sectionType, sectionName = 'store') {
        sectionType.filter = 0;
        sectionType.sort = 0;
        sectionType.checkboxes = [];
        sectionType.datesort = -1;
        sectionType.pricesort = -1;
        sectionType.min_price = "";
        sectionType.max_price = "";
        sectionType.current_product_count = 0;
        sectionType.search_value = '';
        updateStorageField(`${sectionName}.filter`, sectionType.filter);
        updateStorageField(`${sectionName}.sort`, sectionType.sort);
        updateStorageField(`${sectionName}.checkboxes`, sectionType.checkboxes);
        updateStorageField(`${sectionName}.datesort`, sectionType.datesort);
        updateStorageField(`${sectionName}.pricesort`, sectionType.pricesort);
        updateStorageField(`${sectionName}.min_price`, sectionType.min_price);
        updateStorageField(`${sectionName}.max_price`, sectionType.max_price);
        updateStorageField(`${sectionName}.current_product_count`, sectionType.current_product_count);
        updateStorageField(`${sectionName}.search_value`, sectionType.search_value);

    }

    document.querySelectorAll('.shopier-store--nav-link').forEach(link => {
        link.addEventListener('click', function () {
            clearSession(canvas, 'canvas');
            clearSession(store);
        });
    });
    document.querySelector('.empty-filter_clear')?.addEventListener('click', function () {
        clearSession(store);
    })

    function handleClickRadio(sectionType, selector, element) {
        sectionType.datesort = -1;
        sectionType.pricesort = -1;
        if (element.id === `date-newer${selector}`)
            sectionType.datesort = 1;
        if (element.id === `date-older${selector}`)
            sectionType.datesort = 2;
        if (element.id === `price-low${selector}`)
            sectionType.pricesort = 1;
        if (element.id === `price-high${selector}`)
            sectionType.pricesort = 2;
        enableApplyBtn(`apply-sorting${selector}`, `clear-all-sorting${selector}`);
    }

    $('.shopier--sorting-price-date-radio-canvas').on('click', function (event) {
        handleClickRadio(canvas, '-canvas', event.currentTarget);
    });
    $('.shopier--sorting-price-date-radio').on('click', function (event) {
        handleClickRadio(store, '', event.currentTarget);
    });

    function handleClickSorting(sectionType, selector, event) {
        sectionType.datesort = -1;
        sectionType.pricesort = -1;
        let input = $(event.currentTarget).find("input");
        let inputId = input.attr("id");
        if (inputId === `date-newer${selector}`)
            sectionType.datesort = 1;
        if (inputId === `date-older${selector}`)
            sectionType.datesort = 2;
        if (inputId === `price-low${selector}`)
            sectionType.pricesort = 1;
        if (inputId === `price-high${selector}`)
            sectionType.pricesort = 2;
    }

    $('.shopier--sorting-canvas').on('click', function (event) {
        handleClickSorting(canvas, '-canvas', event)
    });
    $('.shopier--sorting').on('click', function (event) {
        handleClickSorting(store, '', event)
    });

    document.getElementById('shopier-es--toggle-mobile').addEventListener('click', function () {
        /* check if any filter made before open */
            })

    $('#apply-filter-canvas').on('click', function () {
        const isActive = isFilterActive('.shopier--filtering-checkbox-canvas', false, '-canvas');
        if (isActive || !canvas.isFilterDefault) {
            setDotVisibility(isActive, '.filter-dot-canvas .input-filter-dot-canvas');
            canvas.min_price = $('#min-price-canvas').val();
            canvas.max_price = $('#max-price-canvas').val();
            setTimeout("sendFilterInfo(canvas, '-canvas', 'canvas')", 100);
            if (!isActive) {
                canvas.isFilterDefault = true;
            } else {
                canvas.isFilterDefault = false;
            }
        }
    });

    $('#apply-filter').on('click', function () {
        const isActive = isFilterActive('.shopier--filtering-checkbox', false, '');
        if (isActive || !store.isFilterDefault) {
            setDotVisibility(isActive, '.filter-dot .input-filter-dot-store')
            store.min_price = $('#min-price').val();
            store.max_price = $('#max-price').val();
            setTimeout("sendFilterInfo(store, '')", 100);
            if (!isActive) {
                store.isFilterDefault = true;
            } else {
                store.isFilterDefault = false;
            }
            resetPageCountAndStoredProduct();
        } else {
            setTimeout("sendFilterInfo(store, '')", 100);
        }
        window.scrollTo(0, 0);
    });


    let isSubmittingCanvas = false;
    $('#shopier-es--form-mobile').on('submit', function (e) {
        e.preventDefault();
        // To prevent multiple request at the same time
        const searchBody = document.getElementById('shopier-es--body-mobile');
        const input = document.getElementById('shopier-es--input-mobile')
        setTimeout(() => {
            searchBody.style.display = "none";
            searchBody.classList.remove("showing-results");
            searchBody.classList.remove("show");
            input?.blur();
        }, 600);
        if (input.value === "") {
            if (isSubmittingCanvas) {
                return;
            }
        }
        isSubmittingCanvas = true;
        if (input.value !== "") {
            searchprocess(canvas.default_product_count, 'shopier-es--input-mobile', canvas, '-canvas', 'canvas');
        } else {
            if (canvas.search_value) {
                handleClearFilterCanvas();
            }
        }
        setTimeout(() => {
            isSubmittingCanvas = false;
        }, 500);
    })

    let isSubmitting = false;
    $('#shopier-es--form').on('submit', function (e) {
        const searchBody = document.getElementById('shopier-es--body');
        const input = document.getElementById('shopier-es--input');
                updateStorageField('store.search_value', input.value)
                window.scrollTo(0, 0);
        setTimeout(() => {
            searchBody.style.display = "none";
            searchBody.classList.remove("showing-results");
            searchBody.classList.remove("show");
            input.blur();
        }, 600)
        // To prevent multiple request at the same time
        if (isSubmitting) return;
        isSubmitting = true;
        if (input.value !== "" || store.search_value) {
            if (input.value !== "") {
                searchprocess(store.default_product_count, 'shopier-es--input', store, '');
                elasticButton.setAttribute('disabled', 'disabled');
                                searchForm.submit();
                            } else {
                handleClearFilter()
            }
        }
        setTimeout(() => {
            isSubmitting = false;
        }, 500);
    })

    function searchprocess(start = default_product_count_canvas, id, sectionType, selector, sectionName = 'store') {
        if (sectionName === 'canvas') {
            canvas.pageCount = 1;
            showFilterView();
        }
        const isActive = isFilterActive('.shopier--filtering-checkbox-canvas', false, '-canvas');
        if (isActive || !canvas.isFilterDefault) {
            setDotVisibility(isActive, '.filter-dot-canvas .input-filter-dot-canvas');
        }
        sectionType.disableLoadMore = true;
        
        let q;
        if (document.getElementById(id)?.value) {
            q = document.getElementById(id).value;

        } else
            q = '';

        /*if (q === "" && sectionType.searchWord2 !== "" && sectionType.searchWord2 !== null){
            q = sectionType.searchWord2;
        }*/
        updateStorageField(`${sectionName}.search_value`, q)
        let params = {
            start: start,
            offset: sectionType.currentPictureCountForCategory,
            filter: sectionType.filter,
            sort: sectionType.sort,
            filterMinPrice: sectionType.min_price,
            filterMaxPrice: sectionType.max_price,
            datesort: sectionType.datesort,
            pricesort: sectionType.pricesort,
            value: q,
        };
        let queryString = '';
        Object.keys(params).forEach(function (key) {
            queryString += key + '=' + params[key] + '&';
        });

        var activeCheckBoxesLength = sectionType.checkboxes.length;
        if (activeCheckBoxesLength > 0) {
            for (var i = 0; i < activeCheckBoxesLength; i++) {
                queryString += "activeCheckBoxes[]=" + sectionType.checkboxes[i] + '&';
            }
        }
        queryString = queryString.substring(0, queryString.length - 1);

        queryString = new URLSearchParams(queryString).toString();
        sectionType.search_value = q;
        //SEARCH
        const url = "https://www.shopier.com/s/api/v1/search_product/ButikBora"
        const data = queryString;
        hideEmptyFilter(selector);
        sendRequest('POST', url, data, function (http) {
            document.querySelector('.products-list-canvas').classList.remove('!hidden');
            $(`.products-list${selector}`).empty();
            let response = http.response;
            if (response.status === 0) {
                setTimeout(function () {
                    hideLoader(sectionType, selector);
                    showEmptyFilter(selector)
                }, 1000);
            } else {
                var productTemplate = document.querySelector(`#shopier--product-card-template${selector}`);
                var newProduct = productTemplate.cloneNode(true);
                new Promise((resolve) => {
                    setTimeout(function () {
                        decideInfiniteScroll(response.products.length, sectionType);
                        getProductsCount(response.products.length, false, sectionType, selector);
                        fetchProducts(response, newProduct, productTemplate, sectionType, selector);
                        hideLoader(sectionType, selector);
                    }, 500);
                }).then(() => {
                })
            }
            return false;
        }, true)
    }

    function handleClearClick(sectionType, selector, sectionName = 'store', clearFilter = true, clearSort = true) {
        /* Eğer sadece filtreyi sıfırlıyorsak burası çalışacak */
        if (clearFilter) {
            sectionType.lastActiveTabCategory = [];
            document.querySelectorAll(`.shopier--filtering-checkbox${selector}`).forEach((e) => {
                e.checked = false;
            });

            const chips = document.querySelectorAll(`.custom-expandable-chips${selector}`);
            chips.forEach(el => {
                if (el.getAttribute('data-scroll-expandable')) {
                    el.setAttribute('data-scroll-expandable', 'top');
                    const lineCount = el.querySelector(`.custom-expandable-chips-list${selector}`);
                    lineCount.style.setProperty('--line-count', '4');
                }
            })

            sectionType.min_price = "";
            sectionType.max_price = "";
            sectionType.filter = 0;
            sectionType.checkboxes = [];
            sectionType.selected_category = 0;
            updateStorageField(`${sectionName}.filter`, sectionType.filter);
            updateStorageField(`${sectionName}.checkboxes`, sectionType.checkboxes);
            updateStorageField(`${sectionName}.min_price`, sectionType.min_price);
            updateStorageField(`${sectionName}.max_price`, sectionType.max_price);
            updateStorageField(`${sectionName}.selected_category`, sectionType.selected_category);
            
        }
        /* Eğer sadece sıralamayı sıfırlıyorsak burası çalışacak */
        if (clearSort) {
            document.querySelectorAll(`.shopier--sorting-price-date-radio${selector}`).forEach((e) => {
                e.checked = false;
            });
            sectionType.datesort = -1;
            sectionType.pricesort = -1;
            sectionType.sort = 0;
            updateStorageField(`${sectionName}.sort`, sectionType.sort);
            updateStorageField(`${sectionName}.datesort`, sectionType.datesort);
            updateStorageField(`${sectionName}.pricesort`, sectionType.pricesort);
                    }
        /* Eğer filtre ve sıralama 2si birden sıfırlanıyorsa burası çalışacak */
        if (clearSort && clearFilter) {
            sectionType.search_value = null;
            updateStorageField(`${sectionName}.search_value`, sectionType.search_value);
        }
        /* Her zaman çalışmalı */
        sectionType.current_product_count = 0;
        updateStorageField(`${sectionName}.current_product_count`, sectionType.current_product_count);
    }

    function clearCanvasSorting() {
        document.getElementById('shopier-es--input-mobile').value = ''
        handleClearClick(canvas, '-canvas', 'canvas')
        variationChecker(canvas, '-canvas');
    }

    function clearFilterSorting(clearFilter = true, clearSort = true) {
        document.getElementById('shopier-es--input').value = ''
        handleClearClick(store, '', 'store', clearFilter, clearSort);
        variationChecker(store);
    }

    document.getElementById('clear-canvas-trigger')?.addEventListener("click", () => {
        let offcanvas = new bootstrap.Offcanvas(document.getElementById('canvas-clear-canvas'));
        offcanvas.show();
    });
    document.getElementById('clear-sorting-button-canvas')?.addEventListener("click", () => {
        handleClearFilterCanvas()
    });
    const clearFilterBtns = document.querySelectorAll('.clear-filter-trigger');
    clearFilterBtns.forEach(btn => {
        btn?.addEventListener("click", () => {
            const bsDismiss = isMobileView ? 'offcanvas' : 'modal';
            showInvalidModal({
                title: 'Emin misiniz?',
                message: 'Filtreleme kriterleri temizlenecek.',
                button: ` <button class="w-full btn btn-primary" id="clear-sorting-button" type="button"
                        data-bs-dismiss="${bsDismiss}">
                    <div class="relative">Onayla</div>
                </button>
                <button class="w-full btn btn-primary-outline" type="button" data-bs-dismiss="${bsDismiss}">
                    <div class="relative">Vazgeç</div>
                </button>`,
                modalClass: 'multiple-btn-modal'
            })
            document.getElementById('clear-sorting-button')?.removeEventListener("click", handleClearFilter);
            document.getElementById('clear-sorting-button')?.addEventListener("click", handleClearFilter);
        })
    })

    /* Tümünü temizle butonları için dinleyiciler */
    document.getElementById('clear-all-sorting')?.addEventListener('click', function () {
        handleClearClick(store, '', 'store', false, true);
        /* HandleClearda butonlar disable olduğu için burda tekrar enable ediyoruz */
        enableApplyBtn('apply-sorting')
    })

    document.getElementById('clear-all-filter')?.addEventListener('click', function () {
        handleClearClick(store, '', 'store', true, false);
        variationChecker(store);
        enableApplyBtn('apply-filter')
    })

    document.getElementById('clear-all-sorting-canvas')?.addEventListener('click', function () {
        handleClearClick(canvas, '-canvas', 'canvas', false, true);
        enableApplyBtn('apply-sorting-canvas')
    })

    document.getElementById('clear-all-filter-canvas')?.addEventListener('click', function () {
        handleClearClick(canvas, '-canvas', 'canvas', true, false);
        variationChecker(canvas, '-canvas');
        enableApplyBtn('apply-filter-canvas')
    })

    function handleClearFilter() {
        clearFilterSorting();
        resetPageCountAndStoredProduct();
        setTimeout("sendFilterInfo(store, '')", 100);
        window.scrollTo(0, 0)
    }

    function handleClearFilterCanvas(hideView = true) {
        clearCanvasSorting();
        setTimeout(() => {
            sendFilterInfo(canvas, '-canvas', 'canvas').then(() => {
                /* "Tümü" tab ine tıklandığında parametre false gelir */
                if (hideView) hideFilterView();
            });
        }, 100);
    }


</script>
<main class="main-layout page-product" data-shopier-main="">
    <div class="pt-2 product-page container-product">
        <div class="info-box info-box-basket add-to-cart-message !hidden" id="info-box-basket">
            <div class="info-box-icon">
                <img src="s/templates/storev3/assets/images/tick-circle.png" alt="Tick icon">
            </div>
            <div class="info-box-content">
                <div class="info-box-text">Sepete eklendi</div>
                <button class="info-box-btn" type="button"><a href="shipping/ButikBora"><span>Siparişi tamamla</span></a></button>
            </div>
        </div>
        <div class="product">
            <div class="product-image product-gallery">
                <div class="product-image-slider-wrapper">
                    <div class="swiper product-image-slider product-gallery-main">
                        <div class="swiper-wrapper">
                                                            <div class="swiper-slide">
                                    <div class="product-image-slide">
                                        <img class="js-product-image-slide" width="458" height="458" src="pictures_large/ButikBora_2d3ad52fd3181e01ba69302f0382cb73.jpeg" data-src="https://cdn.shopier.app/scaledoriginal/ButikBora_2d3ad52fd3181e01ba69302f0382cb73.jpeg" data-src-original="https://s3.eu-central-1.amazonaws.com/shopier1/pictures/ButikBora_2d3ad52fd3181e01ba69302f0382cb73.jpeg" data-src-large="https://cdn.shopier.app/pictures_large/ButikBora_2d3ad52fd3181e01ba69302f0382cb73.jpeg" alt="İhracat Fazlası Orjinal Siyah"></div>
                                </div>
                                                            <div class="swiper-slide">
                                    <div class="product-image-slide">
                                        <img class="js-product-image-slide" width="458" height="458" src="pictures_large/ButikBora_aedcbf6df9f7ec493234514cb3971551.jpeg" data-src="https://cdn.shopier.app/scaledoriginal/ButikBora_aedcbf6df9f7ec493234514cb3971551.jpeg" data-src-original="https://s3.eu-central-1.amazonaws.com/shopier1/pictures/ButikBora_aedcbf6df9f7ec493234514cb3971551.jpeg" data-src-large="https://cdn.shopier.app/pictures_large/ButikBora_aedcbf6df9f7ec493234514cb3971551.jpeg" alt="İhracat Fazlası Orjinal Siyah"></div>
                                </div>
                                                                                                            </div>
                        <div class="swiper-pagination"></div>
                    </div>
                                                                                                                                                                                                                                                            <div class="badge-container">
                            <div class="badge"><span>Son ürün</span></div>
                        </div>
                                                            <div class="product-no-stock variation-tag !hidden">
                        <div class="badge">Tükendi</div>
                    </div>
                </div>
                <div class="product-image-slider-thumbs-wrapper">
                    <div class="swiper-button-prev">
                        <svg width="24" height="24" viewbox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M15.0003 20.67C14.8103 20.67 14.6203 20.6 14.4703 20.45L7.95027 13.93C6.89027 12.87 6.89027 11.13 7.95027 10.07L14.4703 3.55002C14.7603 3.26002 15.2403 3.26002 15.5303 3.55002C15.8203 3.84002 15.8203 4.32002 15.5303 4.61002L9.01027 11.13C8.53027 11.61 8.53027 12.39 9.01027 12.87L15.5303 19.39C15.8203 19.68 15.8203 20.16 15.5303 20.45C15.3803 20.59 15.1903 20.67 15.0003 20.67Z" fill="currentColor"></path>
                        </svg>
                    </div>
                    <div class="swiper product-image-slider-thumbs">
                        <div class="swiper-wrapper">
                                                            <div class="swiper-slide">
                                    <div class="product-image">
                                        <img src="pictures_small/ButikBora_2d3ad52fd3181e01ba69302f0382cb73.jpeg" alt="İhracat Fazlası Orjinal Siyah"></div>
                                </div>
                                                            <div class="swiper-slide">
                                    <div class="product-image">
                                        <img src="pictures_small/ButikBora_aedcbf6df9f7ec493234514cb3971551.jpeg" alt="İhracat Fazlası Orjinal Siyah"></div>
                                </div>
                                                                                                            </div>
                    </div>
                    <div class="swiper-button-next">
                        <svg width="24" height="24" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M5.93974 13.78C5.81307 13.78 5.68641 13.7333 5.58641 13.6333C5.39307 13.44 5.39307 13.12 5.58641 12.9267L9.93307 8.58001C10.2531 8.26001 10.2531 7.74001 9.93307 7.42001L5.58641 3.07335C5.39307 2.88001 5.39307 2.56001 5.58641 2.36668C5.77974 2.17335 6.09974 2.17335 6.29307 2.36668L10.6397 6.71335C10.9797 7.05335 11.1731 7.51335 11.1731 8.00001C11.1731 8.48668 10.9864 8.94668 10.6397 9.28668L6.29307 13.6333C6.19307 13.7267 6.06641 13.78 5.93974 13.78Z" fill="currentColor"></path>
                        </svg>
                    </div>
                </div>
            </div>
            <div>
                <div class="product-head flex justify-between">
                    <div class="product-name shopier-store—product—product-content—product-name">İhracat Fazlası Orjinal Siyah</div>
                    <div class="product-actions">
                        <button id="shareButton" class="product-share" type="button" aria-label="share-button">
                            <svg width="24" height="24" viewbox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M15.2605 22.2503H8.74047C3.83047 22.2503 1.73047 20.1503 1.73047 15.2403V15.1103C1.73047 10.6703 3.48047 8.53027 7.40047 8.16027C7.80047 8.13027 8.18047 8.43027 8.22047 8.84027C8.26047 9.25027 7.96047 9.62027 7.54047 9.66027C4.40047 9.95027 3.23047 11.4303 3.23047 15.1203V15.2503C3.23047 19.3203 4.67047 20.7603 8.74047 20.7603H15.2605C19.3305 20.7603 20.7705 19.3203 20.7705 15.2503V15.1203C20.7705 11.4103 19.5805 9.93027 16.3805 9.66027C15.9705 9.62027 15.6605 9.26027 15.7005 8.85027C15.7405 8.44027 16.0905 8.13027 16.5105 8.17027C20.4905 8.51027 22.2705 10.6603 22.2705 15.1303V15.2603C22.2705 20.1503 20.1705 22.2503 15.2605 22.2503Z" fill="#0B0F34"></path>
                                <path d="M12 15.7501C11.59 15.7501 11.25 15.4101 11.25 15.0001V3.62012C11.25 3.21012 11.59 2.87012 12 2.87012C12.41 2.87012 12.75 3.21012 12.75 3.62012V15.0001C12.75 15.4101 12.41 15.7501 12 15.7501Z" fill="#0B0F34"></path>
                                <path d="M15.3498 6.60043C15.1598 6.60043 14.9698 6.53043 14.8198 6.38043L11.9998 3.56043L9.17984 6.38043C8.88984 6.67043 8.40984 6.67043 8.11984 6.38043C7.82984 6.09043 7.82984 5.61043 8.11984 5.32043L11.4698 1.97043C11.7598 1.68043 12.2398 1.68043 12.5298 1.97043L15.8798 5.32043C16.1698 5.61043 16.1698 6.09043 15.8798 6.38043C15.7398 6.53043 15.5398 6.60043 15.3498 6.60043Z" fill="#0B0F34"></path>
                            </svg>
                        </button>
                    </div>
                </div>
                <div class="product-price-wrapper">
                    <div class="product-price shopier-store—product—product-content—price-current">
                        <span class="price-value">650</span>
                        <span class="price-cent"></span>
                        <span class="price-currency">TL</span>
                    </div>
                                    </div>
                                    <div class="product-tags">
                                                    <div class="badge">
                                <span>Ücretsiz kargo </span>
                            </div>
                                                
                    </div>
                                                    <form class="shopier-store—product—product-form" id="buy-form" action="shipping/ButikBora" method="POST" autocomplete="off">
                        <input type="hidden" name="product_id" value="21927939">
                                                <div class="product-inputs-wrapper">
                                                                                                <div class="input-group">
                                                                                    <div class="select js-select select--product-page">
                                                <input type="hidden" name="first_variation_name" value="BEDEN ">
                                                <input id="first_variation_id" type="hidden" name="first_variation_id" value="0">
                                                <label for="first_variation_group"></label>
                                                <select id="first_variation_group" class="!hidden" name="size">
                                                    <option selected="" value="-1"></option>
                                                                                                                                                                        <option value="379772">L</option>
                                                                                                                                                            </select>
                                            </div>
                                                                                                                    </div>
                                                                                        
                            <div class="input-quantity">
                                <div class="input-body">
                                    <div class="input-name">Adet</div>
                                </div>
                                <div class="input-box">
                                    <button class="input-minus input-minus-passive check-decrease-quantity shopier-store—product—product-form—btn-decrement" type="button" aria-label="minus-button" disabled="disabled" data-id="21927939">
                                        <svg width="13" height="3" viewbox="0 0 13 3" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M1 1.5H12" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                                        </svg>
                                    </button>
                                    <label for="product-quantity"></label>
                                    <input class="pointer-events-none shopier-store—product—product-form—product-quantity" type="number" value="1" min="1" max="100" id="product-quantity" aria-label="product-quantity" name="quantity" readonly="readonly" data-id="21927939">
                                    <button class="input-plus check-increase-quantity shopier-store—product—product-form—btn-increment input-plus-passive" data-id="21927939" type="button" aria-label="plus-button" disabled="disabled">
                                        <svg width="13" height="13" viewbox="0 0 13 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M1 6.5H12" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                                            <path d="M6.5 12V1" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                                        </svg>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="product-add-basket-wrapper">
                                                            <button class="btn btn-primary btn-add-to-cart  pointer-events-none shopier-store—product—product-form—btn-add-to-chart" id="add-item-to-chart" type="button">
                                    <span>Sepete ekle</span>
                                </button>
                                                                                                                            <button class="btn btn-primary-outline btn-buy-now  pointer-events-none shopier-store—product—product-form—btn-buy-now" id="buy-now-button" type="button">
                                        <span>Hemen al</span></button>
                                                                                                                </div>
                    </form>
                                <ul class="nav nav-tabs product-info-tabs" role="tablist" id="product-info-tabs">
                    <li class="nav-item" role="presentation">
                <button class="nav-link active" id="product-info" data-bs-toggle="tab" data-bs-target="#product-info-pane" type="button" role="tab" aria-controls="product-info-pane" aria-selected="false">
                    <span>Ürün açıklaması</span>
                </button>
            </li>
                        <li class="nav-item" role="presentation">
            <button class="nav-link" id="delivery-info" data-bs-toggle="tab" data-bs-target="#delivery-info-pane" type="button" role="tab" aria-controls="delivery-info-pane" aria-selected="true">
                <span>Teslimat bilgisi</span>
            </button>
        </li>
            </ul>
    <div class="tab-content product-info-tabs-content" id="product-info-tabs-content">
                    <div class="tab-pane fade show active" id="product-info-pane" role="tabpanel" aria-labelledby="product-info" tabindex="0">
                <div class="product-info-desc js-add-show-more product-description">
                    İhracat Fazlası Orjinal Siyah
                </div>
                            </div>
                <div class="tab-pane fade" id="delivery-info-pane" role="tabpanel" aria-labelledby="delivery-info" tabindex="0">
            <div class="product-info-desc js-add-show-more product-cargo">
                                                                                                                                                                                        <p>Ücretsiz kargo. Kargo ücreti satıcı tarafından ödenir.  </p>
                
                
                                            </div>
        </div>
    </div>
<div class="mt-[43px] lg:mt-11">
    <div class="follow-store">
    <a class="relative follow-store-body" href="https://www.shopier.com/ButikBora">
                    <figure class="follow-store-logo">
                <img src="logo_234/ButikBora7879_5645cee5-209f-4e07-9c26-07cb196bd26c.jpg" srcset="logo_468/ButikBora7879_5645cee5-209f-4e07-9c26-07cb196bd26c.jpg" alt="ButikBora">
            </figure>
                <div class="follow-store-content">
            <div class="follow-store-name">                    Butik Bora 
                </div>
            <div class="follow-store-link">
                <span>Tüm ürünler</span>
                <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M5.93974 13.78C5.81307 13.78 5.68641 13.7333 5.58641 13.6333C5.39307 13.44 5.39307 13.12 5.58641 12.9267L9.93307 8.58001C10.2531 8.26001 10.2531 7.74001 9.93307 7.42001L5.58641 3.07335C5.39307 2.88001 5.39307 2.56001 5.58641 2.36668C5.77974 2.17335 6.09974 2.17335 6.29307 2.36668L10.6397 6.71335C10.9797 7.05335 11.1731 7.51335 11.1731 8.00001C11.1731 8.48668 10.9864 8.94668 10.6397 9.28668L6.29307 13.6333C6.19307 13.7267 6.06641 13.78 5.93974 13.78Z" fill="currentColor"></path>
                </svg>
            </div>
        </div>
    </a>
</div></div>
<script>
    document.addEventListener('DOMContentLoaded', function (){
        const productInfoDesc = document.querySelector('.product-description');
        productInfoDesc?.addEventListener('click', function () {
            const dataContent = productInfoDesc.getAttribute('data-content');
            if (dataContent && dataContent.trim() !== '') {
                if (isMobileView){
                    showInvalidModal({
                        icon: '',
                        iconClass: 'hidden',
                        title: 'Ürün açıklaması',
                        message: `İhracat Fazlası Orjinal Siyah`,
                        modalClass: 'description-modal',
                        contentClass:'notification-description-left'
                    })
                }
            }
        });
        
        const productCargo = document.querySelectorAll('.product-cargo');
        productCargo?.forEach((element) => {
            element?.addEventListener('click', function () {
                const dataContent = element.getAttribute('data-content');
                if (dataContent && dataContent.trim() !== '') {
                    if (isMobileView){
                        showInvalidModal({
                        icon: '',
                        iconClass: 'hidden',
                        title: 'Teslimat bilgisi',
                        modalClass: 'description-modal',
                        contentInnerHtml: `
                    <ul class="notification-description-list">
                            
                                                                        
                                    
                                                                                                </ul>`
                    })
                    }
                }
            });
        })

    })
</script>


<script>
    const addShowMoreBtn = (isResize = false) => {
        const runForEl = (el) => {
            el.style.setProperty('--truncate-top', '0');
            el.addEventListener('click', () =>
                document.querySelectorAll('#invalid-canvas .toast-text a').forEach(function (el){
                    el.addEventListener('click',function (){
                        if (isMobileView){
                            el.classList.add('decoration')
                        }
                    })
                })
            );
            if (el.scrollHeight > el.clientHeight) {
                el.setAttribute('data-content', 'Daha fazla');
                if (window.matchMedia('screen and (min-width: 1024px)').matches && el.scrollHeight > 100) {
                    el.setAttribute('data-content', 'Daha fazla');
                    el.style.setProperty('--line-count', '5');
                    el.addEventListener('click', () => el.style.setProperty('--line-count', '100'));
                }
            } else {
                el.setAttribute('data-content', '');
                el.setAttribute('data-bs-toggle', '');
            }
            el.style.removeProperty('--truncate-top');
        };
        document.querySelectorAll('.js-add-show-more').forEach((el) => {
            const pane = el.closest('.tab-pane');
            if (!isResize && pane) {
                runForEl(el);
                const tab = document.querySelector(`button[data-bs-toggle="tab"][data-bs-target="#${pane.id}"]`);
                tab?.addEventListener('shown.bs.tab', () => {
                    runForEl(el);
                });
            } else {
                runForEl(el);
            }
        });
    };
    const addShowMoreBtnSeller = () => {
        const runForEl = (el) => {
            el.style.setProperty('--truncate-top', '0');
            if (window.matchMedia('screen and (max-width: 1024px)').matches && el.scrollHeight > 100) {
                el.setAttribute('data-content', 'Daha fazla');
                el.style.setProperty('--line-count', '5');
                el.addEventListener('click', () => el.style.setProperty('--line-count', '100'));
            } else {
                el.style.setProperty('--line-count', '100');
                el.setAttribute('data-content', '');
                el.setAttribute('data-bs-toggle', '');
            }
            el.style.removeProperty('--truncate-top');
        };
        document.querySelectorAll('.js-add-show-more-seller').forEach((el) => {
            runForEl(el);
        });
    };
    document.addEventListener('DOMContentLoaded', () => {
        let descriptionLink = document.querySelectorAll('.product-description a')
        descriptionLink?.forEach(function (el){
            el.addEventListener('click',function (){
                if (isMobileView){
                    el.classList.add('decoration')
                }
            })
        })
        addShowMoreBtn();
        addShowMoreBtnSeller();
    });

</script>                            </div>
        </div>
                    <div class="product-card-slider-wrapper">
    <div class="product-card-slider">
        <div class="title">Bu ürünleri beğenebilirsiniz</div>
        <div class="swiper">
            <div class="swiper-wrapper">
                                    <div class="swiper-slide">
                        <div class="product-card"><a href="https://www.shopier.com/30100345?app_id=13" title="Product Title" role="link">
                                <div class="product-card-header">
                                    <div class="product-card-image-container">
                                        <picture><img class="w-full" src="pictures_mid/ButikBora_3897431111712341e31826c78dcf1429.jpeg" alt="Antrasit Yarım Fermuarlı" width="226" height="226"></picture>
                                    </div>
                                </div>
                                <div class="product-card-body">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <div class="product-card-badges !hidden">
                                                                                
                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
                                                                            </div>
                                    <div class="product-card-title product-card-title-may-like-products">
                                        <h3 class="product-card-title-text">Antrasit Yarım Fermuarlı</h3>
                                    </div>
                                    <div class="product-card-price">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <div class="price price-current price-new">
                                            <span class="price-value">650</span>
                                            <span class="price-cent"></span>
                                            <span class="price-currency">TL</span>
                                        </div>
                                                                            </div>
                                </div>
                            </a></div>
                    </div>
                                    <div class="swiper-slide">
                        <div class="product-card"><a href="https://www.shopier.com/16275955?app_id=13" title="Product Title" role="link">
                                <div class="product-card-header">
                                    <div class="product-card-image-container">
                                        <picture><img class="w-full" src="pictures_mid/ButikBora_8128a6fa81966bb60272dfb9fecd4b09.jpeg" alt="Beyaz Basic Oversize Tshirt " width="226" height="226"></picture>
                                    </div>
                                </div>
                                <div class="product-card-body">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <div class="product-card-badges ">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                <span class="badge badge-discount">%18 İndirim</span>
                                                                                                                                                                            
                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
                                                                            </div>
                                    <div class="product-card-title product-card-title-may-like-products">
                                        <h3 class="product-card-title-text">Beyaz Basic Oversize Tshirt </h3>
                                    </div>
                                    <div class="product-card-price">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <div class="price price-current price-new">
                                            <span class="price-value">330</span>
                                            <span class="price-cent"></span>
                                            <span class="price-currency">TL</span>
                                        </div>
                                                                                    <div class="price price-old">
                                                <span class="price-value">400</span>
                                                <span class="price-cent !hidden "></span>
                                                <span class="price-currency ">TL</span>
                                            </div>
                                                                            </div>
                                </div>
                            </a></div>
                    </div>
                                    <div class="swiper-slide">
                        <div class="product-card"><a href="https://www.shopier.com/30100672?app_id=13" title="Product Title" role="link">
                                <div class="product-card-header">
                                    <div class="product-card-image-container">
                                        <picture><img class="w-full" src="pictures_mid/ButikBora_781026c83ee6a24d92346bf7fafcf1e4.jpeg" alt="Lacivert Fermuarlı Kapişonlu" width="226" height="226"></picture>
                                    </div>
                                </div>
                                <div class="product-card-body">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <div class="product-card-badges !hidden">
                                                                                
                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
                                                                            </div>
                                    <div class="product-card-title product-card-title-may-like-products">
                                        <h3 class="product-card-title-text">Lacivert Fermuarlı Kapişonlu</h3>
                                    </div>
                                    <div class="product-card-price">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <div class="price price-current price-new">
                                            <span class="price-value">700</span>
                                            <span class="price-cent"></span>
                                            <span class="price-currency">TL</span>
                                        </div>
                                                                            </div>
                                </div>
                            </a></div>
                    </div>
                                    <div class="swiper-slide">
                        <div class="product-card"><a href="https://www.shopier.com/15678032?app_id=13" title="Product Title" role="link">
                                <div class="product-card-header">
                                    <div class="product-card-image-container">
                                        <picture><img class="w-full" src="pictures_mid/ButikBora_aeee2494bcb6fd70603f28edced4a2ec.jpeg" alt="Beyaz Basic Long Tshirt" width="226" height="226"></picture>
                                    </div>
                                </div>
                                <div class="product-card-body">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <div class="product-card-badges !hidden">
                                                                                
                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
                                                                            </div>
                                    <div class="product-card-title product-card-title-may-like-products">
                                        <h3 class="product-card-title-text">Beyaz Basic Long Tshirt</h3>
                                    </div>
                                    <div class="product-card-price">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <div class="price price-current price-new">
                                            <span class="price-value">350</span>
                                            <span class="price-cent"></span>
                                            <span class="price-currency">TL</span>
                                        </div>
                                                                            </div>
                                </div>
                            </a></div>
                    </div>
                                    <div class="swiper-slide">
                        <div class="product-card"><a href="https://www.shopier.com/28186408?app_id=13" title="Product Title" role="link">
                                <div class="product-card-header">
                                    <div class="product-card-image-container">
                                        <picture><img class="w-full" src="pictures_mid/ButikBora_dbfe7f53cceb1b7b6c10fac67bdea63f.jpeg" alt="İndigo Slimfit Yakalı" width="226" height="226"></picture>
                                    </div>
                                </div>
                                <div class="product-card-body">
                                                                                                                                                                                                                                                                                                                        <div class="product-card-badges ">
                                                                                
                                                                                                                                                                                                                                                                        
                                                                                    <span class="badge">Son ürün</span>
                                                                            </div>
                                    <div class="product-card-title product-card-title-may-like-products">
                                        <h3 class="product-card-title-text">İndigo Slimfit Yakalı</h3>
                                    </div>
                                    <div class="product-card-price">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <div class="price price-current price-new">
                                            <span class="price-value">550</span>
                                            <span class="price-cent"></span>
                                            <span class="price-currency">TL</span>
                                        </div>
                                                                            </div>
                                </div>
                            </a></div>
                    </div>
                                    <div class="swiper-slide">
                        <div class="product-card"><a href="https://www.shopier.com/28186576?app_id=13" title="Product Title" role="link">
                                <div class="product-card-header">
                                    <div class="product-card-image-container">
                                        <picture><img class="w-full" src="pictures_mid/ButikBora_6846f2611d17d31380a1199f01879f37.jpeg" alt="Basic Siyah Slimfit " width="226" height="226"></picture>
                                    </div>
                                </div>
                                <div class="product-card-body">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <div class="product-card-badges !hidden">
                                                                                
                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
                                                                            </div>
                                    <div class="product-card-title product-card-title-may-like-products">
                                        <h3 class="product-card-title-text">Basic Siyah Slimfit </h3>
                                    </div>
                                    <div class="product-card-price">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <div class="price price-current price-new">
                                            <span class="price-value">300</span>
                                            <span class="price-cent"></span>
                                            <span class="price-currency">TL</span>
                                        </div>
                                                                            </div>
                                </div>
                            </a></div>
                    </div>
                                    <div class="swiper-slide">
                        <div class="product-card"><a href="https://www.shopier.com/28186722?app_id=13" title="Product Title" role="link">
                                <div class="product-card-header">
                                    <div class="product-card-image-container">
                                        <picture><img class="w-full" src="pictures_mid/ButikBora_48b47999210707cb7492a2e5b0dec04a.jpeg" alt="Basic Siyah Oversize " width="226" height="226"></picture>
                                    </div>
                                </div>
                                <div class="product-card-body">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <div class="product-card-badges ">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                <span class="badge badge-discount">%25 İndirim</span>
                                                                                                                                                                            
                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
                                                                            </div>
                                    <div class="product-card-title product-card-title-may-like-products">
                                        <h3 class="product-card-title-text">Basic Siyah Oversize </h3>
                                    </div>
                                    <div class="product-card-price">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <div class="price price-current price-new">
                                            <span class="price-value">300</span>
                                            <span class="price-cent"></span>
                                            <span class="price-currency">TL</span>
                                        </div>
                                                                                    <div class="price price-old">
                                                <span class="price-value">400</span>
                                                <span class="price-cent !hidden "></span>
                                                <span class="price-currency ">TL</span>
                                            </div>
                                                                            </div>
                                </div>
                            </a></div>
                    </div>
                                    <div class="swiper-slide">
                        <div class="product-card"><a href="https://www.shopier.com/23462442?app_id=13" title="Product Title" role="link">
                                <div class="product-card-header">
                                    <div class="product-card-image-container">
                                        <picture><img class="w-full" src="pictures_mid/ButikBora_59fc82af65dd7ccb068d163d1a9c4757.jpeg" alt="Siyah Şişme Mont " width="226" height="226"></picture>
                                    </div>
                                </div>
                                <div class="product-card-body">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <div class="product-card-badges !hidden">
                                                                                
                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
                                                                            </div>
                                    <div class="product-card-title product-card-title-may-like-products">
                                        <h3 class="product-card-title-text">Siyah Şişme Mont </h3>
                                    </div>
                                    <div class="product-card-price">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <div class="price price-current price-new">
                                            <span class="price-value">1.750</span>
                                            <span class="price-cent"></span>
                                            <span class="price-currency">TL</span>
                                        </div>
                                                                            </div>
                                </div>
                            </a></div>
                    </div>
                                    <div class="swiper-slide">
                        <div class="product-card"><a href="https://www.shopier.com/28186630?app_id=13" title="Product Title" role="link">
                                <div class="product-card-header">
                                    <div class="product-card-image-container">
                                        <picture><img class="w-full" src="pictures_mid/ButikBora_8656eb701ec1754500d84dfdc41f9700.jpeg" alt="Siyah Slimfit Kesik Yaka Oval Kesim" width="226" height="226"></picture>
                                    </div>
                                </div>
                                <div class="product-card-body">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <div class="product-card-badges !hidden">
                                                                                
                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
                                                                            </div>
                                    <div class="product-card-title product-card-title-may-like-products">
                                        <h3 class="product-card-title-text">Siyah Slimfit Kesik Yaka Oval Kesim</h3>
                                    </div>
                                    <div class="product-card-price">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <div class="price price-current price-new">
                                            <span class="price-value">350</span>
                                            <span class="price-cent"></span>
                                            <span class="price-currency">TL</span>
                                        </div>
                                                                            </div>
                                </div>
                            </a></div>
                    </div>
                                    <div class="swiper-slide">
                        <div class="product-card"><a href="https://www.shopier.com/28186458?app_id=13" title="Product Title" role="link">
                                <div class="product-card-header">
                                    <div class="product-card-image-container">
                                        <picture><img class="w-full" src="pictures_mid/ButikBora_513f10fbbee8f8e475e1a0f502635879.jpeg" alt="Beyaz Slimfit Yakalı" width="226" height="226"></picture>
                                    </div>
                                </div>
                                <div class="product-card-body">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <div class="product-card-badges !hidden">
                                                                                
                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
                                                                            </div>
                                    <div class="product-card-title product-card-title-may-like-products">
                                        <h3 class="product-card-title-text">Beyaz Slimfit Yakalı</h3>
                                    </div>
                                    <div class="product-card-price">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <div class="price price-current price-new">
                                            <span class="price-value">550</span>
                                            <span class="price-cent"></span>
                                            <span class="price-currency">TL</span>
                                        </div>
                                                                            </div>
                                </div>
                            </a></div>
                    </div>
                            </div>
            <div class="swiper-button-prev">
                <div>
                    <svg width="24" height="24" viewbox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M15.0003 20.67C14.8103 20.67 14.6203 20.6 14.4703 20.45L7.95027 13.93C6.89027 12.87 6.89027 11.13 7.95027 10.07L14.4703 3.55002C14.7603 3.26002 15.2403 3.26002 15.5303 3.55002C15.8203 3.84002 15.8203 4.32002 15.5303 4.61002L9.01027 11.13C8.53027 11.61 8.53027 12.39 9.01027 12.87L15.5303 19.39C15.8203 19.68 15.8203 20.16 15.5303 20.45C15.3803 20.59 15.1903 20.67 15.0003 20.67Z" fill="currentColor"></path>
                    </svg>
                </div>
            </div>
            <div class="swiper-button-next">
                <div>
                    <svg width="24" height="24" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M5.93974 13.78C5.81307 13.78 5.68641 13.7333 5.58641 13.6333C5.39307 13.44 5.39307 13.12 5.58641 12.9267L9.93307 8.58001C10.2531 8.26001 10.2531 7.74001 9.93307 7.42001L5.58641 3.07335C5.39307 2.88001 5.39307 2.56001 5.58641 2.36668C5.77974 2.17335 6.09974 2.17335 6.29307 2.36668L10.6397 6.71335C10.9797 7.05335 11.1731 7.51335 11.1731 8.00001C11.1731 8.48668 10.9864 8.94668 10.6397 9.28668L6.29307 13.6333C6.19307 13.7267 6.06641 13.78 5.93974 13.78Z" fill="currentColor"></path>
                    </svg>
                </div>
            </div>
        </div>
    </div>
</div>
<script> document.addEventListener("DOMContentLoaded", function () {
    UpdatedBadgesMargin('.product-card-related', '11px', '14px', '14px', '11px');
    });
</script>            </div>
</main>
<div class="modal fade modal-layout-2" id="ongoing-payment-modal" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-body">
                <div class="flex justify-center mt-10"><svg width="48" height="48" viewbox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M20.0007 37.9166C10.1173 37.9166 2.08398 29.8833 2.08398 19.9999C2.08398 10.1166 10.1173 2.08325 20.0007 2.08325C29.884 2.08325 37.9173 10.1166 37.9173 19.9999C37.9173 29.8833 29.884 37.9166 20.0007 37.9166ZM20.0007 4.58325C11.5007 4.58325 4.58398 11.4999 4.58398 19.9999C4.58398 28.4999 11.5007 35.4166 20.0007 35.4166C28.5007 35.4166 35.4173 28.4999 35.4173 19.9999C35.4173 11.4999 28.5007 4.58325 20.0007 4.58325Z" fill="#292D32"></path>
                        <path d="M20 22.9166C19.3167 22.9166 18.75 22.3499 18.75 21.6666V13.3333C18.75 12.6499 19.3167 12.0833 20 12.0833C20.6833 12.0833 21.25 12.6499 21.25 13.3333V21.6666C21.25 22.3499 20.6833 22.9166 20 22.9166Z" fill="#292D32"></path>
                        <path d="M20.0007 28.3333C19.784 28.3333 19.5673 28.2833 19.3673 28.2C19.1673 28.1166 18.984 28 18.8173 27.85C18.6673 27.6833 18.5507 27.5166 18.4673 27.3C18.384 27.1 18.334 26.8833 18.334 26.6666C18.334 26.45 18.384 26.2333 18.4673 26.0333C18.5507 25.8333 18.6673 25.65 18.8173 25.4833C18.984 25.3333 19.1673 25.2166 19.3673 25.1333C19.7673 24.9666 20.234 24.9666 20.634 25.1333C20.834 25.2166 21.0173 25.3333 21.184 25.4833C21.334 25.65 21.4506 25.8333 21.534 26.0333C21.6173 26.2333 21.6673 26.45 21.6673 26.6666C21.6673 26.8833 21.6173 27.1 21.534 27.3C21.4506 27.5166 21.334 27.6833 21.184 27.85C21.0173 28 20.834 28.1166 20.634 28.2C20.434 28.2833 20.2173 28.3333 20.0007 28.3333Z" fill="#292D32"></path>
                    </svg></div>
                <div class="font-semibold text-center text-20 mt-7.5">Ödemeniz henüz tamamlanmadı</div>
                <div class="font-medium text-center text-16 mt-10"> <span class="unpaid-order-total-price"></span> tutarındaki siparişinizin ödemesi henüz tamamlanmadı. Bu siparişinizi iptal edip, yeni bir sipariş oluşturmak istediğinize emin misiniz?</div>
            </div>
            <div class="modal-footer gap-y-[5px]"><button class="btn btn-primary w-full cancel-ongoing-payment-yes" type="button" data-bs-dismiss="modal"><span>Evet</span></button>
                <buttonw class="btn btn-primary-outline w-full" type="button" data-bs-dismiss="modal"><span>Hayır</span>
                </buttonw>
            </div>
        </div>
    </div>
</div>
<div class="offcanvas offcanvas-bottom action-sheet offcanvas-layout-2" tabindex="-1" id="ongoing-payment-canvas" aria-labelledby="unfinished-payment-canvasLabel">
    <div class="offcanvas-header"><button class="hidden" type="button" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        <div class="action-sheet-swipe-btn"></div>
    </div>
    <div class="offcanvas-body">
        <div class="action-sheet-desc">
            <div class="flex justify-center"><svg width="48" height="48" viewbox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M20.0007 37.9166C10.1173 37.9166 2.08398 29.8833 2.08398 19.9999C2.08398 10.1166 10.1173 2.08325 20.0007 2.08325C29.884 2.08325 37.9173 10.1166 37.9173 19.9999C37.9173 29.8833 29.884 37.9166 20.0007 37.9166ZM20.0007 4.58325C11.5007 4.58325 4.58398 11.4999 4.58398 19.9999C4.58398 28.4999 11.5007 35.4166 20.0007 35.4166C28.5007 35.4166 35.4173 28.4999 35.4173 19.9999C35.4173 11.4999 28.5007 4.58325 20.0007 4.58325Z" fill="#292D32"></path>
                    <path d="M20 22.9166C19.3167 22.9166 18.75 22.3499 18.75 21.6666V13.3333C18.75 12.6499 19.3167 12.0833 20 12.0833C20.6833 12.0833 21.25 12.6499 21.25 13.3333V21.6666C21.25 22.3499 20.6833 22.9166 20 22.9166Z" fill="#292D32"></path>
                    <path d="M20.0007 28.3333C19.784 28.3333 19.5673 28.2833 19.3673 28.2C19.1673 28.1166 18.984 28 18.8173 27.85C18.6673 27.6833 18.5507 27.5166 18.4673 27.3C18.384 27.1 18.334 26.8833 18.334 26.6666C18.334 26.45 18.384 26.2333 18.4673 26.0333C18.5507 25.8333 18.6673 25.65 18.8173 25.4833C18.984 25.3333 19.1673 25.2166 19.3673 25.1333C19.7673 24.9666 20.234 24.9666 20.634 25.1333C20.834 25.2166 21.0173 25.3333 21.184 25.4833C21.334 25.65 21.4506 25.8333 21.534 26.0333C21.6173 26.2333 21.6673 26.45 21.6673 26.6666C21.6673 26.8833 21.6173 27.1 21.534 27.3C21.4506 27.5166 21.334 27.6833 21.184 27.85C21.0173 28 20.834 28.1166 20.634 28.2C20.434 28.2833 20.2173 28.3333 20.0007 28.3333Z" fill="#292D32"></path>
                </svg></div>
            <div class="font-semibold text-center text-20 mt-7.5">Ödemeniz henüz tamamlanmadı</div>
            <div class="mt-10 font-medium text-center text-16"> <span class="unpaid-order-total-price"></span> tutarındaki siparişinizin ödemesi henüz tamamlanmadı. Bu siparişinizi iptal edip, yeni bir sipariş oluşturmak istediğinize emin misiniz?</div>
        </div>
    </div>
    <div class="offcanvas-footer">
        <div class="action-sheet-footer flex flex-col gap-y-[5px]"><button class="btn btn-primary w-full cancel-ongoing-payment-yes" type="button" data-bs-dismiss="offcanvas"><span>Evet </span></button><button class="btn btn-primary-outline w-full" type="button" data-bs-dismiss="offcanvas"><span>Hayır</span></button></div>
    </div>
</div><script>

    function handleHttpError(status) {
        let errorMessage;
        switch (status) {
            case 404:
                errorMessage = "Geçersiz bir istek gönderildi, lütfen bir süre sonra tekrar deneyiniz.";
                break;
            case 500:
                errorMessage = "Sunucudan yanıt alınamadı, lütfen bir süre sonra tekrar deneyiniz.";
                break;
            default:
                errorMessage = "Beklenmeyen bir hata oluştu, lütfen bir süre sonra tekrar deneyiniz.";
        }
        showInvalidModal({message: errorMessage});
    }

    function createModalOrCanvas() {
        document.querySelectorAll('.toast')?.forEach(toast => toast.remove());
        const canvasHTML = `
        <div class="offcanvas offcanvas-bottom action-sheet notification-canvas toast" tabindex="-1" id="invalid-canvas"
     aria-labelledby="notification-canvasLabel">
    <div class="offcanvas-header"><button class="hidden" type="button" data-bs-dismiss="offcanvas"
                                          aria-label="Close"></button>
        <div class="action-sheet-swipe-btn"></div>
    </div>
    <div class="offcanvas-body toast-body">
        <div class="action-sheet-desc">
            <div class="notification-icon icon-container">
                <div class="bg-miscallenous"></div>
            </div>
            <div class="notification-title toast-title"></div>
            <div class="notification-description-center toast-text"></div>
        </div>
    </div>
    <div class="offcanvas-footer toast-btn">
        <div class="action-sheet-footer toast-btn"><button class="btn btn-primary w-full" type="button"
                                                 data-bs-dismiss="offcanvas"><span>Tamam</span></button>
        </div>
    </div>
</div>`;
        const modalHTML = `
        <div class="modal fade notification-modal toast" id="invalid-modal" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-body toast-body">
                <div class="notification-icon icon-container">
                    <div class="bg-miscallaneous"></div>
                </div>
                <div class="notification-title toast-title"></div>
                <div class="notification-description-center toast-text"></div>
            </div>
            <div class="modal-footer toast-btn"><button class="btn btn-primary w-full" type="button"
                                              data-bs-dismiss="modal"><span>Tamam</span></button></div>
        </div>
    </div>
</div>`;
        const footer = document.querySelector('footer');
        if (footer) {
            const selectedHTML = isMobileView ? canvasHTML : modalHTML;
            footer.insertAdjacentHTML('beforebegin', selectedHTML);
        }
    }


</script><footer>
    <div class="product-footer"></div>
</footer>
<script src="s/templates/storev3/assets/js/product.js"></script>

<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','GTM-5FGVGWZ');
</script>
<script>
    let images = document.getElementsByTagName("img");
    let imageCount = images.length;
    for(let i = 0; i < imageCount; i++) {
        images[i].addEventListener('error', function(event){
            const source = images[i].previousElementSibling;
            const isSource = source && source.tagName === "SOURCE";
            if(isSource){
                const isMinWith = source.media.includes("min-width");
                const isMaxWith = source.media.includes("max-width");
                if(isMinWith){
                    const width = parseInt(source.media.split("min-width:")[1].trim().split("px")[0]);
                    if(window.innerWidth < width){
                        // add to image
                        event.target.src = "https://cdn.shopier.app/pictures_mid/600icons-2.png";
                        event.target.srcset = "https://cdn.shopier.app/pictures_mid/600icons-2.png";
                        event.onerror = null;
                    } else {
                        // add to source
                        source.srcset = "https://cdn.shopier.app/pictures_mid/600icons-2.png";
                        event.onerror = null;
                    }
                } else if(isMaxWith) {
                    const width = parseInt(source.media.split("max-width:")[1].trim().split("px")[0]);
                    if(window.innerWidth > width){
                        // add to image
                        event.target.src = "https://cdn.shopier.app/pictures_mid/600icons-2.png";
                        event.target.srcset = "https://cdn.shopier.app/pictures_mid/600icons-2.png";
                        event.onerror = null;
                    } else {
                        // add to source
                        source.srcset = "https://cdn.shopier.app/pictures_mid/600icons-2.png";
                        event.onerror = null;
                    }
                }
            } else {
                event.target.src = "https://cdn.shopier.app/pictures_mid/600icons-2.png";
                event.target.srcset = "https://cdn.shopier.app/pictures_mid/600icons-2.png";
                event.onerror = null;
            }
        }, false);
    }
    document.addEventListener("DOMContentLoaded", () => {
        let links = document.querySelectorAll("a");
        links.forEach((link) => {
            let href = link.getAttribute("href");
            if(href === "" || href === "#"){
                link.setAttribute("href", "javascript:void(0);")
            }
        });
    });
</script>

<!-- Twitter Web Intents: https://dev.twitter.com/web/intents -->
<script type="text/javascript" async="" src="widgets.js"></script>

<!-- Pinterest Save Button & Rich Pins: https://developers.pinterest.com/docs/widgets/save/ https://developers.pinterest.com/docs/rich-pins/products/ -->
<script async="" defer="" src="js/pinit.js"></script>

<script>

    let fbButton = document.getElementById('fb-share');
    if (fbButton) {
        fbButton.addEventListener("click", function () {
            FB.ui({
                method: 'share',
                display: 'popup',
                href: 'https://www.shopier.com/21927939',
                hashtag: '#shopier',
                quote: 'İhracat Fazlası Orjinal Siyah'
            }, function (response) {
            });
        }, false);
    }

    let pinOneButton = document.querySelector('.pinit');
    if (pinOneButton) {
        pinOneButton.addEventListener('click', function (e) {
            PinUtils.pinOne({
                media: e.target.getAttribute('data-media'),
                description: e.target.getAttribute('data-description')
            });
        });
    }

</script>
</body>
</html>
